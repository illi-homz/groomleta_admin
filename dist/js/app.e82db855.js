(function(){"use strict";var t={3476:function(t,e,s){var r=s(144),n=s(998),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(n.Z,[e(t.layout,{tag:"component"},[e("router-view")],1)],1)},i=[],o=s(5716),l=s(5495),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"empty-layout flex-grow-1"},[e(o.Z,{staticClass:"white",attrs:{elevation:"0",app:""}},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"d-flex align-center"},[e(l.Z,{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:s(9574),transition:"scale-transition"}})],1)])],1),e("div",{staticClass:"empty-layout__container d-flex flex-column justify-center align-center"},[t._t("default")],2)],1)},d=[],u={name:"EmptyLayout",data:()=>({})},m=u,h=s(1001),v=(0,h.Z)(m,c,d,!1,null,null,null),p=v.exports,C=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-layout d-flex flex-column"},[e(o.Z,{staticClass:"white flex-grow-0",attrs:{elevation:"0"}},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"d-flex align-center"},[e(l.Z,{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:s(9574),transition:"scale-transition"}})],1)]),e("nav",{staticClass:"flex-grow-1 d-flex justify-center"},t._l(t.links,(function(s){return e("router-link",{key:s.id,staticClass:"text-decoration-none px-10 main-layout__border-bottom-on-hover",class:{active:s.url===t.$route.path},attrs:{to:s.url}},[e("span",{staticClass:"body-1 grey--text text--darken-3 d-block main-layout__nav-link"},[t._v(" "+t._s(s.title)+" ")])])})),1),e("div",{staticClass:"d-flex align-center pointer",on:{click:t.logout}},[e(l.Z,{staticClass:"shrink mr-2",attrs:{alt:"logout",contain:"",src:s(5053)}}),e("span",[t._v("Выйти")])],1)],1),e("div",{staticClass:"px-8 pb-8 flex-grow-1 d-flex flex-column"},[t._t("default")],2),e("GCreateOrderModalForm"),e("GDetailOrderModalShield")],1)},g=[],f=s(344),E=s(4562),_=s(4145),y=s(4886),x=s(266),k=s(2118),S=s(9930),O=s(9223),T=s(4324),b=s(4528),D=s(1713),Z=s(3687),w=s(7808),P=s(2648),F=s(3807),R=function(){var t=this,e=t._self._c;return e(S.Z,{attrs:{"content-class":"g-create-event-modal-form",value:t.isAvtive,"max-width":"30%"},on:{"click:outside":t.closeModal,keydown:t.onKeyDown}},[e(_.Z,{staticClass:"pt-4"},[e(y.EB,{staticClass:"px-8 d-block"},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Заголовок*",color:"#FFC11C",light:"",rules:[t=>!!t||"Укажите название записи"]},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),e(y.ZB,{staticClass:"px-5"},[e(k.Z,[e(D.Z,{staticClass:"mb-4"},[e(x.Z,{staticClass:"d-flex align-end py-0"},[e("div",{staticClass:"flex-grow-1 mr-4"},[e("div",{staticClass:"caption"},[t._v("Время")]),e("div",{staticClass:"mb-1",on:{click:t.toggleTimepiker}},[e("span",{ref:"timepickerText",staticClass:"body-1",staticStyle:{cursor:"pointer"}},[t._v(" "+t._s(t.time)+" ")])]),e(O.Z)],1),e(T.Z,{ref:"timepickerIcon",attrs:{color:"#FFC11C"},on:{click:t.toggleTimepiker}},[t._v(" mdi-clock-outline ")]),e(b.Z,{attrs:{activator:t.$refs.timepickerText,"close-on-content-click":!1,"offset-x":"","offset-y":""},model:{value:t.isTimepikerOpen,callback:function(e){t.isTimepikerOpen=e},expression:"isTimepikerOpen"}},[e(F.Z,{attrs:{color:"#FFC11C",format:"24hr"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)],1),e(D.Z,{staticClass:"mb-4"},[e(x.Z,{staticClass:"py-0"},[e(f.Z,{attrs:{items:t.servicesList?.map(((t,e)=>({text:`${t.breed.title} - ${t.title}`,value:e}))),color:"#FFC11C","item-color":"#FFC11C","no-data-text":"Ничего не найдено",label:"Услуги","hide-details":"",multiple:"",chips:"","small-chips":"","deletable-chips":""},on:{change:t.setServices},model:{value:t.servicePickerValue,callback:function(e){t.servicePickerValue=e},expression:"servicePickerValue"}}),t.services.length?e("div",{staticClass:"pt-3"},t._l(t.services,(function(s,r){return e("div",{key:s,staticClass:"px-0 pl-2 d-flex",class:{"mt-2":0===r}},[e("div",{staticClass:"flex-grow-1"},[t._v(" "+t._s(t.servicesList[s].breed.title)+" - "+t._s(t.servicesList[s].title)+" ")]),e(T.Z,{attrs:{color:"#FFC11C"},on:{click:function(e){return t.removeService(r)}}},[t._v(" mdi-close ")])],1)})),0):t._e()],1)],1),e(D.Z,{staticClass:"mb-4"},[e(x.Z,{staticClass:"py-0"},[e(f.Z,{attrs:{items:t.groomersList?.map(((t,e)=>({text:`$${t.username} ${t.lastname}`,value:t.id}))),color:"#FFC11C","item-color":"#FFC11C","no-data-text":"Такого мастера нету",clearable:"",label:"Мастер","hide-details":""},model:{value:t.groommer,callback:function(e){t.groommer=e},expression:"groommer"}})],1)],1),e(D.Z,{staticClass:"mb-8"},[e(x.Z,{staticClass:"py-0"},[e(f.Z,{attrs:{items:t.clientsList?.map(((t,e)=>({text:`$${t.username} ${t.lastname}`,value:t.id}))),color:"#FFC11C","item-color":"#FFC11C","no-data-text":"Такого клиента нету",clearable:"",label:"Клиент","hide-details":""},model:{value:t.client,callback:function(e){t.client=e},expression:"client"}})],1)],1),e(D.Z,[e(x.Z,[e(P.Z,{attrs:{label:"Комментарий",color:"#FFC11C","no-resize":"",outlined:"","background-color":"#FFC11C08"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)],1),e(y.h7,{staticClass:"pb-8 px-8"},[e(Z.Z),e(E.Z,{staticClass:"px-6",attrs:{tile:"",text:""},on:{click:t.closeModal}},[t._v(" Закрыть ")]),e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"#FFC11C",dark:t.isFormValid,disabled:!t.isFormValid,tile:"",elevation:"0"},on:{click:t.submitForm}},[t._v(" Создать ")])],1)],1)],1)},A=[];const I=t=>{const e=new Date(t),s=e.toLocaleDateString().split(".").reverse().join("-"),r=e.toLocaleTimeString();return`${s}T${r}`},L=(t,e)=>Object.keys(t)?.reduce(((s,r)=>{if("services"===r){const n=e.services?.map((t=>t.id)),a=t.services?.map((t=>t.id));return a.join(",")!==n.join(",")?{...s,[r]:n}:s}return"client"===r?t.client?.id!==e.client?.id?{...s,[r]:e.client?.id||""}:s:"master"===r?t.master?.id!==e.master?.id?{...s,[r]:e.master?.id}:s:t[r]!==e[r]?{...s,[r]:e[r]}:s}),{}),M={time:"09:00",services:[],servicePickerValue:"",groommer:"",client:"",comment:""};var $={name:"GCreateEventModalForm",props:{isAvtive:{type:Boolean,default:!1},currentDate:{type:String,default:""},currentTime:{type:String,default:""},servicesList:{type:Array,default:()=>[]},groomersList:{type:Array,default:()=>[]},clientsList:{type:Array,default:()=>[]}},data:()=>({...M,timepicerActivetorElement:null,isTimepikerOpen:!1,title:""}),computed:{isFormValid(){return!!this.title},form(){const t=`${this.currentDate}T${this.time}:00`,e=new Date(t).getTime(),s=new Date(e+36e5),r=this.services.map((t=>this.servicesList[t].id));return{title:this.title,startDate:t,endDate:I(s),services:r,client:this.client,master:this.groommer,comment:this.comment}}},watch:{isAvtive(t){t||this.cencelTimepicker()},currentDate(t){const e=t.split("-").reverse().join("-");this.title=`Новая запись на ${e}`},currentTime(t){const[e]=t?.split(":")||[];this.time=`${e||"09"}:00`}},methods:{closeModal(){this.clearFrom(),this.$emit("onModalClose")},submitForm(){this.isFormValid&&(this.$emit("onSubmitEvent",this.form),this.closeModal())},setServices(t){const e=Array.isArray(t)?t:[t];this.services=e},removeService(t){this.services=this.services.filter(((e,s)=>s!==t)),this.servicePickerValue=this.services},toggleTimepiker(){this.isTimepikerOpen=!this.isTimepikerOpen},cencelTimepicker(){this.isTimepikerOpen=!1;const[t]=this.currentTime?.split(":")||[];this.time=`${t||"09"}:00`},clearFrom(){Object.keys(M).forEach((t=>{this[t]=M[t]}))},onKeyDown({keyCode:t}){27===t&&this.closeModal()}}},G=$,N=(0,h.Z)(G,R,A,!1,null,null,null),V=N.exports,U=s(8224),W=s(6313),q=s(7953),B=function(){var t=this,e=t._self._c;return t.selectedEvent?e(b.Z,{attrs:{value:t.value,"close-on-content-click":!1,activator:t.selectedElement,"offset-y":""},on:{input:t.vModel}},[e(_.Z,{staticClass:"g-calendar-event-menu ma-2",attrs:{color:"grey lighten-4","min-width":"350px",flat:"",elevation:"2"}},[e(W.Z,{attrs:{color:t.isSuccess?"grey darken-1":t.selectedEvent.color,dark:"",elevation:"0"}},[t.isWritable?e(q.qW,{staticClass:"flex-grow-1 mr-8"},[e(w.Z,{attrs:{value:t.selectedEvent.name,filled:"",dense:"",rounded:"",color:"#FFC11C","background-color":"#FFF",light:"","hide-details":""},on:{input:e=>t.setEvent({name:e})}})],1):e(q.qW,{staticClass:"flex-grow-1 mr-8"},[t._v(" "+t._s(t.selectedEvent.name)+" ")]),t.isSuccess||t.isWritable?t._e():e(E.Z,{staticClass:"mr-2",attrs:{fab:"",color:"white",light:"",height:"40",width:"40",elevation:"0"},on:{click:function(e){t.isWritable=!t.isWritable}}},[e(T.Z,[t._v("mdi-pencil")])],1),t.isSuccess?t._e():e("GRemoveBtn",{on:{onRemoveEvent:function(e){return t.$emit("onRemoveEvent",t.selectedEvent.id)}}})],1),e(y.ZB,{staticClass:"white"},[e("div",[e("div",{staticClass:"text-h6"},[t._v("Услуги:")]),t.isWritable?e("div",{staticClass:"mb-2"},[e("div",{staticClass:"mb-1"},t._l(t.selectedEvent.services,(function(s,r){return e("div",{key:s.id,staticClass:"px-0 pl-2 d-flex"},[e("div",{staticClass:"flex-grow-1"},[t._v(" "+t._s(s.breed.title)+" - "+t._s(s.title)+" ")]),e(T.Z,{attrs:{color:"#FFC11C"},on:{click:function(e){return t.removeService(r)}}},[t._v(" mdi-close ")])],1)})),0),e(f.Z,{attrs:{items:t.servicesList.map(((t,e)=>({text:`${t.breed.title} - ${t.title}`,value:e}))),value:t.selectedEvent.services?.map(((t,e)=>e)),color:"#FFC11C","item-color":"#FFC11C","no-data-text":"Ничего не найдено",placeholder:"Услуги","hide-details":"",outlined:"",dense:"","background-color":"#FFF",clearable:"",multiple:"",chips:"","small-chips":"","deletable-chips":""},on:{change:t.setServices}})],1):e("div",[t.selectedEvent.services?.length?e("ul",t._l(t.selectedEvent.services,(function(s){return e("li",{key:s.id,staticClass:"pl-1"},[t._v(" "+t._s(s.breed.title)+" - "+t._s(s.title)+" ")])})),0):e("div",{staticClass:"px-2"},[e("i",[t._v("Услуги не выбраны")])])])]),e("div",[e("span",{staticClass:"text-h6"},[t._v("Мастер:")]),t.isWritable?e("div",{staticClass:"mb-2"},[e(f.Z,{staticClass:"pt-0 mt-0",attrs:{items:t.groomersList?.map(((t,e)=>({text:`$${t.username} ${t.lastname}`,value:e}))),value:t.groomersList?.findIndex((e=>e.id===t.selectedEvent.master?.id)),color:"#FFC11C","item-color":"#FFC11C","no-data-text":"Такого мастера нету",clearable:"","hide-details":"","background-color":"#FFF",outlined:"",dense:""},on:{change:t.setMaster}})],1):e("div",[t.selectedEvent.master?e("div",{staticClass:"ml-2"},[t._v(" "+t._s(t.selectedEvent.master?.username)+" ")]):e("div",{staticClass:"ml-2"},[t._v("Не назначен")])])]),e("div",[e("span",{staticClass:"text-h6"},[t._v("Клиент:")]),t.isWritable?e("div",{staticClass:"mb-2"},[e(f.Z,{staticClass:"pt-0 mt-0",attrs:{items:t.clientsList?.map(((t,e)=>({text:`$${t.username} ${t.lastname}`,value:e}))),value:t.clientsList?.findIndex((e=>e.id===t.selectedEvent.client?.id)),color:"#FFC11C","item-color":"#FFC11C","no-data-text":"Такого клиента нету","hide-details":"","background-color":"#FFF",outlined:"",clearable:"",dense:""},on:{change:t.setClient}})],1):e("div",[t.selectedEvent.client?e("div",{staticClass:"ml-2"},[t._v(" "+t._s(t.selectedEvent.client.username)+" ")]):e("div",{staticClass:"ml-2"},[t._v("Не выбран")])])]),e("div",[t.selectedEvent.comment||t.isWritable?e("span",{staticClass:"text-h6"},[t._v(" Комментарий: ")]):t._e(),t.isWritable?e(P.Z,{staticClass:"mt-2",attrs:{value:t.selectedEvent.comment,label:"Комментарий",color:"#ddd",rows:"2","hide-details":"","no-resize":"",outlined:"","background-color":"#fff"},on:{input:e=>t.setEvent({comment:e})}}):e("div",{staticClass:"ml-2"},[t._v(" "+t._s(t.selectedEvent.comment)+" ")])],1)]),e(y.h7,[t.isWritable?e("div",[e(U.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:s}){return[e(E.Z,{staticClass:"mr-2",attrs:{color:s?"black":"#243138",elevation:"0",outlined:!s,dark:s,tile:""},on:{click:t.cancelEvent}},[t._v(" Отменить ")])]}}],null,!1,4200521884)}),e(U.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:s}){return[e(E.Z,{attrs:{color:s?"black":"#243138",elevation:"0",outlined:!s,dark:s,tile:""},on:{click:t.saveCanges}},[t._v(" Сохранить ")])]}}],null,!1,430393077)})],1):t._e(),t.isWritable?t._e():e("div",[e(U.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:s}){return[e(E.Z,{staticClass:"mr-2",attrs:{color:s?"black":"#243138",elevation:"0",outlined:!s,dark:s,tile:""},on:{click:t.closeEvent}},[t._v(" Закрыть ")])]}}],null,!1,141496426)}),t.isSuccess?t._e():e(U.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:s}){return[e(E.Z,{attrs:{color:s?"black":"#243138",elevation:"0",outlined:!s,dark:s,tile:""},on:{click:t.toCreateOrder}},[t._v(" Оформить заказ ")])]}}],null,!1,3273921997)})],1)])],1)],1):t._e()},j=[],H=function(){var t=this,e=t._self._c;return e(S.Z,{attrs:{persistent:"","max-width":"290"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:r}){return[e(E.Z,t._g(t._b({attrs:{fab:"",color:"white",light:"",height:"40",width:"40",elevation:"0"}},"v-btn",r,!1),s),[e(T.Z,[t._v("mdi-trash-can-outline")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(_.Z,[e(y.EB,{staticClass:"text-h5"},[t._v(" Удалить событие? ")]),e(y.ZB,[t._v("После удаления данные будут недоступны")]),e(y.h7,[e(Z.Z),e(E.Z,{attrs:{color:"green darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Отмена ")]),e(E.Z,{attrs:{color:"red darken-1",text:""},on:{click:t.success}},[t._v(" Удалить ")])],1)],1)],1)},Y=[],K={name:"GRemoveBtn",data:()=>({dialog:!1}),methods:{success(){this.$emit("onRemoveEvent"),this.dialog=!1}}},J=K,z=(0,h.Z)(J,H,Y,!1,null,null,null),Q=z.exports,X={name:"GCalendarEventMenu",components:{GRemoveBtn:Q},props:["selectedEvent","value","selectedElement","servicesList","groomersList","clientsList"],data:()=>({isWritable:!1,selectedServices:"",oldEvent:null}),computed:{isSuccess(){return this.selectedEvent.isSuccess}},watch:{value(t){!t&&this.isWritable&&this.cancelEvent()},selectedEvent(t){this.oldEvent=JSON.parse(JSON.stringify(t))}},methods:{vModel(t){this.$emit("input",t)},cancelEvent(){this.isWritable=!1,this.oldEvent&&this.selectedEvent.id&&this.setEvent(this.oldEvent)},closeEvent(){this.cancelEvent(),this.$emit("input",!1)},setEvent(t){this.$emit("setEvent",t)},saveCanges(){this.$emit("saveEvent"),this.oldEvent=null},setServices(t){const e=Array.isArray(t)?t.map((t=>this.servicesList[t])):[this.servicesList[t]];this.setEvent({services:e})},removeService(t){const e=this.selectedEvent.services?.filter(((e,s)=>t!==s));this.setEvent({services:e})},setMaster(t){const e=this.groomersList[t];this.setEvent({master:e})},setClient(t){const e=this.clientsList[t];this.setEvent({client:e||""})},toCreateOrder(){const{client:t,master:e,id:s,services:r}=this.selectedEvent,n={orderItems:r?.map((t=>({id:t.id,count:1,type:"service"})))||[],clientId:t?.id||"",masterId:e?.id||"",eventId:s};this.$emit("toCreateOrder",n)}}},tt=X,et=(0,h.Z)(tt,B,j,!1,null,null,null),st=et.exports,rt=function(){var t=this,e=t._self._c;return e(S.Z,{attrs:{"content-class":"g-create-client-modal-form",value:t.isAvtive,"max-width":"40%"},on:{"click:outside":t.closeModal,keydown:t.onKeyDown}},[e(_.Z,{staticClass:"pt-4"},[e(y.EB,{staticClass:"px-8 mb-4 d-block"},[e("span",{staticClass:"text-h4"},[t._v("Создание клиента")])]),e(y.ZB,{staticClass:"px-5"},[e(k.Z,[e(D.Z,[e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Имя*",color:"#FFC11C",light:"",rules:[t=>!!t||"Укажите имя"]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Фамилия",color:"#FFC11C",light:""},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1)],1),e(D.Z,{staticClass:"mb-4"},[e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{value:t.phone,label:"Телефон",color:"#FFC11C",light:""},on:{input:e=>t.phone=t.onPhoneInput(e)}})],1),e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Питомец",color:"#FFC11C",light:""},model:{value:t.animal,callback:function(e){t.animal=e},expression:"animal"}})],1)],1),e(D.Z,[e(x.Z,[e(P.Z,{attrs:{label:"Комментарий",color:"#FFC11C","no-resize":"",outlined:"","background-color":"#f9f9f9",rows:"6"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)],1),e(y.h7,{staticClass:"pb-8 px-8"},[e(Z.Z),e(E.Z,{staticClass:"px-6",attrs:{tile:"",text:""},on:{click:t.closeModal}},[t._v(" Закрыть ")]),e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"#FFC11C",dark:t.isFormValid,disabled:!t.isFormValid,tile:"",elevation:"0"},on:{click:t.submitForm}},[t._v(" Создать ")])],1)],1)],1)},nt=[],at=document.querySelectorAll(".data-tel-input input"),it=function(t){return t.replace(/\D/g,"")},ot=function(t){var e=t.target,s=it(e.value),r=t.clipboardData||window.clipboardData;if(r){var n=r.getData("Text");if(/\D/g.test(n))return void(e.value=s)}};const lt=function(t){var e=it(t),s="";if(!e)return"";if(["7","8","9"].indexOf(e[0])>-1){"9"==e[0]&&(e="7"+e);var r="8"==e[0]?"8":"+7";s=r+" ",e.length>1&&(s+="("+e.substring(1,4)),e.length>=5&&(s+=") "+e.substring(4,7)),e.length>=8&&(s+="-"+e.substring(7,9)),e.length>=10&&(s+="-"+e.substring(9,11))}else s="+"+e.substring(0,16);return console.log("formattedInputValue",s),s};var ct=function(t){var e=t.target.value.replace(/\D/g,"");8==t.keyCode&&1==e.length&&(t.target.value="")};for(var dt of at)dt.addEventListener("keydown",ct),dt.addEventListener("input",lt,!1),dt.addEventListener("paste",ot,!1);const ut={username:"",lastname:"",phone:"",comment:"",animal:""};var mt={name:"GCreateClientModalForm",props:{isAvtive:{type:Boolean,default:!1}},data:()=>({...ut}),computed:{isFormValid(){return!!this.username},form(){return{username:this.username.trim(),lastname:this.lastname.trim(),phone:this.phone.trim(),comment:this.comment.trim(),animal:this.animal.trim()}}},methods:{onPhoneInput:lt,closeModal(){this.clearFrom(),this.$emit("onModalClose")},clearFrom(){Object.keys(ut).forEach((t=>{this[t]=ut[t]}))},submitForm(){this.isFormValid&&(this.$emit("onSubmitEvent",this.form),this.closeModal())},onKeyDown({keyCode:t}){27===t&&this.closeModal()}}},ht=mt,vt=(0,h.Z)(ht,rt,nt,!1,null,null,null),pt=vt.exports,Ct=s(120),gt=s(3863),ft=function(){var t=this,e=t._self._c;return e(S.Z,{attrs:{"content-class":"g-create-order-modal-form",value:t.IS_CREATE_ORDER_SHOW,"max-width":"50%"},on:{"click:outside":t.closeModal,keydown:t.onKeyDown}},[e(_.Z,{staticClass:"pt-4"},[e(y.EB,{staticClass:"px-8 d-block"},[e("div",{staticClass:"d-flex"},[e("span",{staticClass:"text-h4"},[t._v("Оформление заказа")]),e(Z.Z),e(E.Z,{attrs:{icon:"",large:""},on:{click:t.closeModal}},[e(T.Z,{attrs:{large:""}},[t._v("mdi-close")])],1)],1),e(O.Z,{staticClass:"mt-4"})],1),e(y.ZB,{staticClass:"px-5"},[e(k.Z,[e(D.Z,[e(x.Z,[e(f.Z,{attrs:{items:t.GROOMERS.map((t=>({text:`${t.username} ${t.lastname}`,value:t.id}))),color:"#FFC11C","prepend-inner-icon":"mdi-magnify","item-color":"#FFC11C","no-data-text":"Ничего не найдено",placeholder:"Мастер","hide-details":"",outlined:"",dense:"","background-color":"#FFF",clearable:""},model:{value:t.masterId,callback:function(e){t.masterId=e},expression:"masterId"}})],1),e(x.Z,[e(f.Z,{attrs:{items:t.CLIENTS.map((t=>({text:`${t.username} ${t.lastname}`,value:t.id}))),color:"#FFC11C","prepend-inner-icon":"mdi-magnify","item-color":"#FFC11C","no-data-text":"Ничего не найдено",placeholder:"Клиент","hide-details":"",outlined:"",dense:"","background-color":"#FFF",clearable:""},model:{value:t.clientId,callback:function(e){t.clientId=e},expression:"clientId"}})],1),e(x.Z,{staticClass:"d-flex",attrs:{cols:"5"}},[e(Z.Z),t.checkedItems.length?e(E.Z,{attrs:{text:"",color:"#FF5252"},on:{click:t.removeSelected}},[t._v(" Удалить выбранные ")]):t._e(),e(E.Z,{attrs:{text:""},on:{click:t.clearAll}},[t._v(" Удалить все ")])],1)],1),e(D.Z,[e(x.Z,{attrs:{cols:"7"}},[e(f.Z,{attrs:{value:t.search,items:[...t.servicesList,...t.productsList],color:"#FFC11C","prepend-inner-icon":"mdi-magnify","item-color":"#FFC11C","no-data-text":"Ничего не найдено",placeholder:"Поиск товара или услуги","hide-details":"",outlined:"",dense:"","background-color":"#FFF",clearable:""},on:{change:t.setBasket}})],1)],1),e(D.Z,[e(x.Z,[e(gt.Z,{attrs:{headers:t.headers,items:t.orderItems,"no-data-text":"Ничего не выбрано","no-results-text":"Ничего не выбрано","loading-text":"Загрузка","hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function({item:{count:s,id:r,type:n}}){return[e("tr",[e("td",{staticClass:"g-stock__td py-2 d-flex align-center"},[e(Ct.Z,{staticClass:"d-inline ma-0 pa-0",attrs:{value:t.checkCheckedId({id:r,type:n}),color:"#FFC11C","hide-details":""},on:{change:function(e){return t.toggleChecked({id:r,type:n})}}}),"product"===n?e("span",[t._v(" "+t._s(t.productsObj[r].title)+" ")]):t._e(),"service"===n?e("span",[t._v(" "+t._s(t.servicesObj[r].title)+" ")]):t._e(),t._v(" "+t._s(r)+" ")],1),e("td",{staticClass:"g-stock__td text-center py-2"},[e(T.Z,{on:{click:function(e){return t.decrement({id:r,type:n})}}},[t._v(" mdi-minus ")]),e("span",{staticClass:"mx-2"},[t._v(t._s(s))]),e(T.Z,{on:{click:function(e){return t.increment({id:r,type:n})}}},[t._v(" mdi-plus ")])],1),e("td",{staticClass:"g-stock__td text-right py-2"},["product"===n?e("span",[t._v(" "+t._s(t.parsePrice(t.productsObj[r].price))+" ")]):t._e(),"service"===n?e("span",[t._v(" "+t._s(t.parsePrice(t.servicesObj[r].price))+" ")]):t._e()]),e("td",{staticClass:"g-stock__td text-right py-2"},["product"===n?e("span",[t._v(" "+t._s(t.parsePrice(t.productsObj[r].price)*s)+" ")]):t._e(),"service"===n?e("span",[t._v(" "+t._s(t.parsePrice(t.servicesObj[r].price)*s)+" ")]):t._e()])])]}}])})],1)],1)],1)],1),e(y.h7,{staticClass:"pb-8 px-8"},[e(Z.Z),e("div",{staticClass:"mr-5"},[e("b",{staticClass:"mr-2"},[t._v("Итого:")]),e("b",[t._v(t._s(t.finalPrice))])]),t.orderId?t._e():e(E.Z,{staticClass:"px-6 ml-4",attrs:{disabled:!t.isFormValid,tile:"",elevation:"0",outlined:""},on:{click:t.reserveOrder}},[t._v(" Забронировать ")]),t.orderId?t._e():e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"#FFC11C",dark:t.isFormValid,disabled:!t.isFormValid,tile:"",elevation:"0"},on:{click:t.createOrder}},[t._v(" Оформить ")]),t.orderId?e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"#FFC11C",dark:t.isFormValid,disabled:!t.isFormValid,tile:"",elevation:"0"},on:{click:t.pyForOrder}},[t._v(" Оплатить ")]):t._e()],1)],1)],1)},Et=[];const _t=(t,e)=>e[t%10===1&&t%100!==11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2],yt=t=>{const e=new Date(t).getTime(),s=Date.now()-e,r=new Date(s),n=r.getMonth(),a=r.getDate(),i=r.getUTCFullYear(),o=Math.abs(i-1970);return o?`${o} ${_t(o,["год","года","лет"])}`:n?`${n} ${_t(n,["месяц","месяца","месяцев"])}`:`${a} ${_t(a,["день","дня","дней"])}`},xt=t=>"number"===typeof t?t:t?.replace(/[^\d.]/g,"");var kt=s(629);const St={orderItems:[],checkedItems:[],clientId:"",masterId:"",eventId:"",search:""},Ot={product:"productId",service:"serviceId"};var Tt={name:"GCreateOrderModalForm",data:()=>({orderItems:[],checkedItems:[],clientId:"",masterId:"",eventId:"",orderId:"",search:"",headers:[{text:"Название",value:"title"},{text:"Количество",value:"count",width:130},{text:"Сумма ₽, шт",value:"price",width:130},{text:"Всего ₽",value:"finalPrice",width:130}]}),computed:{...(0,kt.Se)(["EVENTS","CLIENTS","GROOMERS","SERVICES","PRODUCTS","IS_CREATE_ORDER_SHOW","DEFAULT_ORDER_DATA"]),servicesList(){return this.SERVICES.map((t=>({text:`${t.breed.title} - ${t.title}`,value:{id:t.id,type:"service"}})))},productsList(){return this.PRODUCTS.filter((t=>+t.count)).map((t=>({text:t.title,value:{id:t.id,type:"product"}})))},servicesObj(){return this.SERVICES.reduce(((t,e)=>({...t,[e.id]:e})),{})},productsObj(){return this.PRODUCTS.reduce(((t,e)=>({...t,[e.id]:e})),{})},isFormValid(){return!!this.orderItems.length},currentObj(){return{service:this.servicesObj,product:this.productsObj}},finalPrice(){return this.orderItems.reduce(((t,{id:e,type:s,count:r})=>{const n=this.parsePrice(this.currentObj[s][e].price);return t+n*r}),0)},form(){const{service:t,product:e}=this.orderItems.reduce(((t,{id:e,type:s,count:r,orderId:n})=>{const a=Ot[s];return{...t,[s]:[...t[s],{[a]:e,count:r,id:n}]}}),{service:[],product:[]});return{services:t,products:e,price:this.finalPrice}}},watch:{DEFAULT_ORDER_DATA(t){if(t)for(let e in t)this[e]=t[e]}},methods:{...(0,kt.nv)(["CREATE_ORDER","SUCCESS_EVENT","UPDATE_AND_PAY_ORDER"]),...(0,kt.OI)(["CLOSE_ORDER_FORM"]),parsePrice:xt,closeModal(){this.CLOSE_ORDER_FORM()},clearFrom(){Object.keys(St).forEach((t=>{this[t]=St[t]}))},onKeyDown({keyCode:t}){27===t&&this.closeModal()},setBasket({id:t,type:e}){try{if(!t||!e)throw!1;this.search="-";const s=this.orderItems.findIndex((s=>s.id===t&&s.type===e));if("service"===e){if(-1!==s)throw this.orderItems[s].count+=1,!1;this.orderItems.push({type:"service",id:t,count:1})}if("product"===e){if(-1!==s)throw this.orderItems[s].count+=1,!1;this.orderItems.push({type:"product",id:t,count:1})}throw!1}catch(s){setTimeout((()=>this.search=""),0)}},async createOrder({isSuccess:t=!0,isReserved:e=!1}){if(!confirm("Продолжить?"))return;const{data:s}=await this.CREATE_ORDER({...this.form,clientId:this.clientId,masterId:this.masterId,isSuccess:t,isReserved:e});s&&this.eventId&&await this.SUCCESS_EVENT(this.eventId),this.clearFrom(),this.closeModal()},async pyForOrder(){if(!confirm("Продолжить?"))return;const{data:t}=await this.UPDATE_AND_PAY_ORDER({id:this.orderId,orderData:{...this.form,clientId:this.clientId,masterId:this.masterId}});this.clearFrom(),this.closeModal()},reserveOrder(){this.createOrder({isSuccess:!1,isReserved:!0})},increment({id:t,type:e}){const s=this.orderItems.findIndex((s=>s.id===t&&s.type===e));if("service"===e)return this.orderItems[s].count++;const r=this.productsObj[this.orderItems[s].id];r.count>this.orderItems[s].count&&this.orderItems[s].count++},decrement({id:t,type:e}){const s=this.orderItems.findIndex((s=>s.id===t&&s.type===e));1!==this.orderItems[s].count?this.orderItems[s].count--:confirm("Удалить?")&&(this.orderItems=this.orderItems.filter(((t,e)=>e!==s)))},clearAll(){confirm("Очистить карзину?")&&this.clearFrom()},toggleChecked({id:t,type:e}){const s=s=>s.id===t&&s.type===e,r=this.checkedItems.findIndex((t=>s(t)));this.checkedItems=-1!==r?this.checkedItems.filter((t=>!s(t))):[...this.checkedItems,{id:t,type:e}]},removeSelected(){this.orderItems=this.orderItems.filter((({id:t,type:e})=>!this.checkedItems.find((s=>s.id===t&&s.type===e)))),this.checkedItems=[]},checkCheckedId({id:t,type:e}){return!!this.checkedItems.find((s=>s.id===t&&s.type===e))}}},bt=Tt,Dt=(0,h.Z)(bt,ft,Et,!1,null,null,null),Zt=Dt.exports,wt=s(3138),Pt=function(){var t=this,e=t._self._c;return e(S.Z,{attrs:{"content-class":"g-create-groomer-modal-form",value:t.isAvtive,"max-width":"40%"},on:{"click:outside":t.closeModal,keydown:t.onKeyDown}},[e(_.Z,{staticClass:"pt-4"},[e(y.EB,{staticClass:"px-8 mb-4 d-block"},[e("span",{staticClass:"text-h4"},[t._v("Создание нового грумера")])]),e(y.ZB,{staticClass:"px-5"},[e(k.Z,[e(D.Z,{staticClass:"mb-4"},[e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Фамилия",color:"#FFC11C",light:""},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}})],1),e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Имя*",color:"#FFC11C",light:"",rules:[t=>!!t||"Укажите имя"]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1)],1),e(D.Z,{staticClass:"mb-4"},[e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{value:t.phone,label:"Телефон",color:"#FFC11C",light:""},on:{input:t.setPhone}})],1),e(x.Z,{staticClass:"py-0"},[e(wt.Z,{attrs:{items:t.posts,label:"Должность",color:"#FFC11C","item-color":"warning"},model:{value:t.post,callback:function(e){t.post=e},expression:"post"}})],1)],1),e(D.Z,{staticClass:"mb-4"},[e(x.Z,{staticClass:"py-0",attrs:{cols:"10"}},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Адрес",color:"#FFC11C",light:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{value:t.rate,label:"Ставка, %",color:"#FFC11C",light:""},on:{input:t.setRate}})],1)],1),e(D.Z,{staticClass:"mb-4"},[e(x.Z,{staticClass:"py-0"},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Образование",color:"#FFC11C",light:""},model:{value:t.education,callback:function(e){t.education=e},expression:"education"}})],1),e(x.Z,{staticClass:"py-0 d-flex justify-end align-center"},[e("GColorSelector",{attrs:{data:t.colors},model:{value:t.color,callback:function(e){t.color=e},expression:"color"}})],1)],1),e(D.Z,[e(x.Z,[e(P.Z,{attrs:{label:"Комментарий",color:"#FFC11C","no-resize":"",outlined:"","background-color":"#f9f9f9",rows:"6",counter:"100"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)],1),e(y.h7,{staticClass:"pb-8 px-8"},[e(Z.Z),e(E.Z,{staticClass:"px-6",attrs:{tile:"",text:"",outlined:""},on:{click:t.closeModal}},[t._v(" Отменить ")]),e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"#FFC11C",dark:t.isFormValid,disabled:!t.isFormValid,tile:"",elevation:"0"},on:{click:t.submitForm}},[t._v(" Создать грумера ")])],1)],1)],1)},Ft=[],Rt=s(3577),At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-color-selector"},[t._l(t.data,(function(s){return e(E.Z,{key:s,staticClass:"mr-2",attrs:{fab:"",elevation:"0",width:"24",height:"24"},on:{click:function(e){return t.setColor({hex:s})}}},[s===t.value?e(T.Z,{attrs:{color:s,size:"28px"}},[t._v("mdi-checkbox-blank-circle")]):e(T.Z,{attrs:{color:s,size:"28px"}},[t._v("mdi-checkbox-blank-circle-outline")])],1)})),e(b.Z,{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:r,attrs:n}){return[e(E.Z,t._g(t._b({attrs:{fab:"",elevation:"0",width:"24",height:"24"}},"v-btn",n,!1),r),[e(l.Z,{attrs:{src:s(2191),width:"24",height:"24"}})],1)]}}])},[e(Rt.Z,{attrs:{"dot-size":"25","hide-inputs":"","swatches-max-height":"200"},on:{input:t.setColor}})],1)],2)},It=[],Lt={name:"GColorSelector",props:{data:{type:Array,default:()=>["#FFBE11"]},value:{type:String,default:""}},data:()=>({}),mounted(){},methods:{onPhoneInput:lt,setColor({hex:t}){this.$emit("input",t)}}},Mt=Lt,$t=(0,h.Z)(Mt,At,It,!1,null,null,null),Gt=$t.exports;const Nt={MAIN_GROOMMER:"Главный груммер",GROOMMER:"Груммер",HELPER:"Помощник груммера"},Vt=[{text:"Главный груммер",value:"MAIN_GROOMMER"},{text:"Груммер",value:"GROOMMER"},{text:"Помощник груммера",value:"HELPER"}],Ut=["#FFBE11","#FF5555","#85CF26","#0099CA","#A621D4","#D70D9E","#15CBD7","#0643E2","#F58014"];var Wt={name:"GCreateGroomerModalForm",components:{GColorSelector:Gt},props:{isAvtive:{type:Boolean,default:!1}},data:()=>({...qt,username:"",lastname:"",phone:"",post:"groommer",education:"",address:"",rate:0,comment:"",posts:[{text:"Главный груммер",value:"main_groommer"},{text:"Груммер",value:"groommer"},{text:"Помощник груммера",value:"helper"}],color:"#FFBE11",colors:Ut}),computed:{isFormValid(){return!!this.username},form(){return{username:this.username.trim(),lastname:this.lastname.trim(),phone:this.phone.trim(),comment:this.comment.trim(),post:this.post.toLowerCase(),color:this.color.trim(),education:this.education.trim(),address:this.address.trim(),rate:this.rate}}},methods:{closeModal(){this.clearFrom(),this.$emit("onModalClose")},clearFrom(){Object.keys(qt).forEach((t=>{this[t]=qt[t]}))},submitForm(){this.isFormValid&&(this.$emit("onSubmit",this.form),this.closeModal())},onKeyDown({keyCode:t}){27===t&&this.closeModal()},setRate(t){const e=t.replace(/\D/g,"");this.rate===+e&&(this.rate=t),setTimeout((()=>this.rate=+e),0)},setPhone(t){const e=lt(t);this.phone===e&&(this.phone=t),setTimeout((()=>this.phone=e),0)}}};const qt={username:"",lastname:"",post:"groommer",phone:"",comment:"",color:"#FFC11C",rate:0,address:""};var Bt=Wt,jt=(0,h.Z)(Bt,Pt,Ft,!1,null,null,null),Ht=jt.exports,Yt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column"},[e(gt.Z,{staticClass:"g-groomer-orders-table flex-grow-1",attrs:{"items-per-page":10,headers:t.headers,items:t.servicesList,"no-data-text":"Ничего найти не получилось","no-results-text":"Ничего найти не получилось","loading-text":"Загрузка","checkbox-color":"#FFC11C","footer-props":{itemsPerPageText:"Заказов на странице",itemsPerPageAllText:"Все",showCurrentPage:!0,showFirstLastPage:!1,pageText:`${t.currentPage} из ${t.pageCount}`}},on:{pagination:t.setCurrentPage},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e("tr",{staticClass:"pointer"},[e("td",{staticClass:"py-2"},[t._v(" "+t._s(s.date)+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.title)+" ")]),e("td",{staticClass:"text-xs-right py-2 text-center"},[t._v(" "+t._s(s.count)+" ")]),e("td",{staticClass:"text-xs-right py-2 text-right"},[t._v(" "+t._s(s.price)+" ")]),e("td",{staticClass:"text-xs-right py-2 text-right"},[t._v(" "+t._s(s.fullPrice)+" ")])])]}},{key:"foot",fn:function(){return[e("tfoot",[e("tr",[e("td",{staticClass:"text-h6 font-weight-black"},[t._v("Итого")]),e("td"),e("td"),e("td"),e("td",{staticClass:"text-h6 text-right font-weight-black"},[t._v(" "+t._s(t.fullPrice)+" ")])])])]},proxy:!0}])})],1)},Kt=[],Jt={name:"GGroomerOrdersTable",props:{orders:{type:Array,default:()=>[]}},data:()=>({headers:[{text:"Дата",value:"date",width:140},{text:"Услуга",value:"title"},{text:"Колличество",value:"count",width:150,align:"center"},{text:"Стоимость, ₽",value:"price",width:150},{text:"Всего, ₽",value:"fullPrice",width:150}],currentPage:0,pageCount:0}),computed:{servicesList(){return this.orders.reduce(((t,{services:e,updateDate:s})=>{const r=[...t];return e?.forEach((({count:t,service:e})=>{r.push({date:new Date(s).toLocaleDateString(),title:e.title,count:t,price:e.price,fullPrice:t*+xt(e.price)})})),r}),[])},servicesList2(){const t=this.orders.reduce(((t,{services:e,updateDate:s})=>{const r={...t};return e?.forEach((({count:t,service:{id:e,title:n,price:a}})=>{if(!r[e])return void(r[e]={date:new Date(s).toLocaleDateString(),title:n,count:t,price:a,fullPrice:t*+a});const{count:i}=r[e],o=r[e].count+i;r[e]={...r[e],count:o,fullPrice:o*+xt(a),date:new Date(s).toLocaleDateString()}})),r}),{});return Object.values(t)},fullPrice(){return this.servicesList.reduce(((t,e)=>t+e.fullPrice),0)}},mounted(){},methods:{parsePrice:xt,setCurrentPage({page:t,pageCount:e}){this.currentPage=t,this.pageCount=e}}},zt=Jt,Qt=(0,h.Z)(zt,Yt,Kt,!1,null,null,null),Xt=Qt.exports,te=function(){var t=this,e=t._self._c;return e(gt.Z,{staticClass:"g-groomer-services-table",attrs:{"items-per-page":10,headers:t.headers,items:t.ordersList,"no-data-text":"Ничего найти не получилось","no-results-text":"Ничего найти не получилось","loading-text":"Загрузка",color:"#FFC11C","footer-props":{itemsPerPageText:"Заказов на странице",itemsPerPageAllText:"Все",showCurrentPage:!0,showFirstLastPage:!1,pageText:`${t.currentPage} из ${t.pageCount}`}},on:{pagination:t.setCurrentPage},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e("tr",{staticClass:"pointer",on:{click:function(e){return t.showDetail(s.data)}}},[e("td",{staticClass:"py-2"},[t._v(" "+t._s(s.date)+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.services)+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.products)+" ")]),e("td",{staticClass:"text-xs-right py-2 text-center"},[t._v(" "+t._s(s.groomer)+" ")]),e("td",{staticClass:"text-xs-right py-2 text-center"},[t._v(" "+t._s(s.client)+" ")]),e("td",{staticClass:"text-xs-right py-2 text-center"},[e("span",{staticClass:"g-groomer-services-table__status",class:`color-${s.status}`},[t._v(" "+t._s(t.statuses[s.status])+" ")])]),e("td",{staticClass:"text-xs-right py-2 text-right"},[t._v(" "+t._s(s.price)+" ")])])]}}])})},ee=[],se={name:"GGroomerServicesTable",props:{orders:{type:Array,default:()=>[]}},data:()=>({headers:[{text:"Дата",value:"date",width:140},{text:"Услуги",value:"services"},{text:"Продукты",value:"products"},{text:"Грумер",value:"groomer",width:200,align:"center"},{text:"Клиент",value:"client",width:200,align:"center"},{text:"Статус",value:"status",width:200,align:"center"},{text:"Стоимость, ₽",value:"price",width:130}],currentPage:0,pageCount:0,statuses:{success:"Выполнен",cancel:"Отменен",reserved:"Забронирован"}}),computed:{ordersList(){return this.orders.reduce(((t,e)=>{const{updateDate:s,services:r,products:n,price:a,isSuccess:i,isCancel:o,isReserved:l,master:c,client:d}=e,u=r.map((({service:t})=>t.title)).join(", "),m=n.map((({product:t})=>t.title)).join(", ");let h="any";return o&&(h="cancel"),l&&!o&&(h="reserved"),i&&!o&&(h="success"),[...t,{date:new Date(s).toLocaleDateString(),services:u,products:m,status:h,price:a,groomer:c?`${c.username} ${c.lastname}`:"-",client:d?`${d.username} ${d.lastname}`:"-",data:e}]}),[])}},mounted(){},methods:{setCurrentPage({page:t,pageCount:e}){this.currentPage=t,this.pageCount=e},showDetail(t){this.$emit("onLineClick",t)}}},re=se,ne=(0,h.Z)(re,te,ee,!1,null,null,null),ae=ne.exports,ie=function(){var t=this,e=t._self._c;return e(S.Z,{attrs:{"content-class":"g-detail-order-modal-shield",value:t.IS_DETAIL_ORDER_SHOW,"max-width":"60%"},on:{"click:outside":t.closeModal,keydown:t.onKeyDown}},[t.order?e(_.Z,{staticClass:"pt-4"},[e(y.EB,{staticClass:"px-8 mb-4 d-block"},[e("div",{staticClass:"d-flex"},[e("span",{staticClass:"text-h4"},[t._v(" Заказ - #"+t._s(t.order.id)+" ("+t._s(new Date(t.order.updateDate).toLocaleDateString())+") ")]),e(Z.Z),e(E.Z,{attrs:{icon:"",large:""},on:{click:t.closeModal}},[e(T.Z,{attrs:{large:""}},[t._v("mdi-close")])],1)],1),e(O.Z)],1),e(y.ZB,{staticClass:"px-5"},[e(k.Z,[e(D.Z,[e(x.Z,[e(wt.Z,{attrs:{value:t.order.master,items:t.groomersList,disabled:"",label:"Грумер",color:"#FFC11C","item-color":"warning"}})],1),e(x.Z,[e(wt.Z,{attrs:{value:t.order.client,items:t.clientsList,disabled:"",label:"Клиент",color:"#FFC11C","item-color":"warning"}})],1),e(x.Z)],1),e(gt.Z,{staticClass:"g-groomer-services-table",attrs:{"items-per-page":100,headers:t.headers,items:t.tableListData,"no-data-text":"Ничего найти не получилось","no-results-text":"Ничего найти не получилось","loading-text":"Загрузка",color:"#FFC11C","hide-default-footer":""},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e("tr",{staticClass:"pointer",on:{click:function(e){return t.showDetail(s.data)}}},[e("td",{staticClass:"py-2"},[t._v(" "+t._s(s.title)+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.count)+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.price)+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.fullPrice)+" ")])])]}}],null,!1,1225368931)})],1)],1),e(y.h7,{staticClass:"pb-8 px-8"},[e(Z.Z),e("span",{staticClass:"text-h6 font-weight-bold mr-4"},[t._v(" Всего: "+t._s(t.fullPrice)+"р ")]),e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"red lighten-1",dark:"",tile:"",outlined:"",elevation:"0"},on:{click:t.cancelOrder}},[t._v(" Отменить ")]),t.isOrderComplete?e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"#FFC11C",tile:"",dark:"",elevation:"0"},on:{click:t.toNewOrder}},[t._v(" Повторить ")]):t._e(),t.isOrderReserved?e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"green lighten-1",dark:"",tile:"",elevation:"0"},on:{click:t.toUpdateOrder}},[t._v(" Изменить ")]):t._e(),t.isOrderReserved?e(E.Z,{staticClass:"px-6 ml-4",attrs:{color:"orange lighten-1",dark:"",tile:"",elevation:"0"},on:{click:t.payForOrder}},[t._v(" Оплатить ")]):t._e()],1)],1):t._e()],1)},oe=[];const le=t=>{const{master:e,client:s,products:r,services:n}=t,a={};let i=[];return e&&(a.masterId=e),s&&(a.clientId=s),n?.length&&(i=[...i,...n?.map((({count:t,id:e,service:s})=>({count:t,id:s.id,orderId:e,type:"service"})))]),r?.length&&(i=[...i,...r?.map((({count:t,id:e,product:s})=>({count:t,id:s.id,orderId:e,type:"product"})))]),i.length&&(a.orderItems=i),a};var ce={name:"GDetailOrderModalShield",data:()=>({order:null,oldOrder:null,headers:[{text:"Название",value:"title"},{text:"Количество",value:"count",width:130},{text:"Сумма ₽, шт",value:"price",width:130},{text:"Всего ₽",value:"fullPrice",width:130}],statuses:{success:"Выполнен",cancel:"Отменен",reserved:"Забронирован"}}),computed:{...(0,kt.Se)(["IS_DETAIL_ORDER_SHOW","DETAIL_ORDER_SHIELD_DATA","GROOMERS","CLIENTS"]),isOrderComplete(){return this.order.isCancel||this.order.isSuccess},isOrderReserved(){return!this.order.isCancel&&!this.order.isSuccess},groomersList(){return this.GROOMERS.map((({id:t,username:e,lastname:s})=>({text:`${e} ${s}`,value:t})))},clientsList(){return this.CLIENTS.map((({id:t,username:e,lastname:s})=>({text:`${e} ${s}`,value:t})))},tableListData(){const t=[];for(let{count:e,service:s}of this.order?.services)t.push({title:s.title,count:e,price:s.price,fullPrice:e*+xt(s.price),type:"service",data:s});for(let{count:e,product:s}of this.order?.products)t.push({title:s.title,count:e,price:s.price,fullPrice:e*+xt(s.price),type:"product",data:s});return t},fullPrice(){return this.order?.services.reduce(((t,{count:e,service:s})=>t+ +xt(s.price)*e),0)+this.order?.products.reduce(((t,{count:e,product:s})=>t+ +xt(s.price)*e),0)}},watch:{DETAIL_ORDER_SHIELD_DATA(t){if(!t)return this.oldOrder=null,void(this.order=null);const{master:e,client:s,...r}=this.DETAIL_ORDER_SHIELD_DATA,n={...r,master:e?.id||"",client:s?.id||""};this.oldOrder=n,this.order=JSON.parse(JSON.stringify(n))}},mounted(){},methods:{...(0,kt.OI)(["CLOSE_ORDER_DETAIL_SHIELD","SHOW_ORDER_FORM"]),...(0,kt.nv)(["PAY_FOR_ORDER","CANCEL_ORDER"]),parsePrice:xt,closeModal(){this.CLOSE_ORDER_DETAIL_SHIELD()},onKeyDown({keyCode:t}){27===t&&this.CLOSE_ORDER_DETAIL_SHIELD()},toNewOrder(){const t=le(this.order);this.SHOW_ORDER_FORM(t),this.CLOSE_ORDER_DETAIL_SHIELD()},async payForOrder(){confirm("Оплатить заказ?")&&(await this.PAY_FOR_ORDER(this.order.id),this.CLOSE_ORDER_DETAIL_SHIELD())},toUpdateOrder(){const t=le(this.order);t.orderId=this.order.id,this.SHOW_ORDER_FORM(t),this.CLOSE_ORDER_DETAIL_SHIELD()},cancelOrder(){confirm("Отменить заказ?")&&(this.CANCEL_ORDER(this.order.id),this.CLOSE_ORDER_DETAIL_SHIELD())}}},de=ce,ue=(0,h.Z)(de,ie,oe,!1,null,null,null),me=ue.exports,he=s(5808),ve=s(4525),pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-stock-products-table d-flex flex-column"},[e(D.Z,{staticClass:"flex-grow-0 my-0 mb-5"},[e(x.Z,{staticClass:"py-0",attrs:{cols:"3"}},[e(w.Z,{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Поиск товара","single-line":"","hide-details":"",color:"#FFC11C",filled:"",dense:""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}})],1)],1),e(gt.Z,{staticClass:"flex-grow-1",attrs:{"items-per-page":15,headers:t.headers,items:t.currentProducts,"no-data-text":"Ничего найти не получилось","no-results-text":"Ничего найти не получилось","loading-text":"Загрузка","footer-props":{itemsPerPageText:"Мастеров на странице",itemsPerPageAllText:"Все",showCurrentPage:!0,showFirstLastPage:!0,pageText:`${t.currentPage} из ${t.pageCount}`}},on:{pagination:t.setCurrentPage,pageCount:t.setPageCount},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[+t.writableProductId===+s.id&&t.currentProduct?e("tr",[e("td",{staticClass:"g-stock__td text-xs-right py-2"},[e("span",[t._v(t._s(s.id))])]),t._l(["vendorCode","title","count","price"],(function(s){return e("td",{key:s,staticClass:"g-stock__td text-xs-right py-2"},[e(w.Z,{attrs:{filled:"",dense:"",color:"#FFC11C",light:"","hide-details":"",type:["price","count"].includes(s)?"number":"text"},model:{value:t.currentProduct[s],callback:function(e){t.$set(t.currentProduct,s,e)},expression:"currentProduct[key]"}})],1)})),e("td",{staticClass:"g-stock__td text-xs-right py-2 d-flex flex-column"},[e("div",{staticClass:"d-flex align-center"},[e(P.Z,{staticClass:"lex-grow-1",attrs:{filled:"",color:"#FFC11C",light:"","hide-details":"","no-resize":"",rows:"3"},model:{value:t.currentProduct.description,callback:function(e){t.$set(t.currentProduct,"description",e)},expression:"currentProduct.description"}})],1),e("div",{staticClass:"py-2 d-flex"},[e(E.Z,{staticClass:"flex-grow-1 mr-4",attrs:{elevation:"0","x-large":""},on:{click:function(e){return t.$emit("cancelWritingProduct")}}},[t._v(" Отменить ")]),e(E.Z,{staticClass:"flex-grow-1",attrs:{elevation:"0","x-large":"",color:"#FFC11C",tile:"",dark:""},on:{click:t.saveProduct}},[t._v(" Сохранить ")])],1)])],2):e("tr",{staticClass:"pointer",on:{contextmenu:function(e){return e.preventDefault(),t.$emit("writeProduct",s.id)}}},[t._l(["id","vendorCode","title"],(function(r){return e("td",{key:r,staticClass:"g-stock__td text-xs-right py-2"},[e("span",[t._v(t._s(s[r]))])])})),e("td",{staticClass:"g-stock__td text-right py-2"},[e("span",[t._v(t._s(s.count))])]),e("td",{staticClass:"g-stock__td text-right py-2"},[e("span",[t._v(t._s(s.price))])]),e("td",{staticClass:"g-stock__td text-xs-right py-2 d-flex align-center"},[e("div",{staticClass:"flex-grow-1"},[t._v(" "+t._s(s.description)+" ")]),e(b.Z,{attrs:{"open-on-hover":"","offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:r}){return[e(T.Z,t._g(t._b({},"v-icon",r,!1),s),[t._v(" mdi-dots-horizontal ")])]}}],null,!0)},[e(he.Z,[e(ve.Z,{on:{click:function(e){return t.$emit("writeProduct",s.id)}}},[e(T.Z,{staticClass:"mr-3"},[t._v(" mdi-pencil-outline ")]),t._v(" Изменить ")],1),e(ve.Z,{on:{click:function(e){return t.removeProduct(s.id)}}},[e(T.Z,{staticClass:"mr-3"},[t._v(" mdi-trash-can-outline ")]),t._v(" Удалить ")],1)],1)],1)],1)],2)]}}])})],1)},Ce=[],ge={name:"GStockProductsTable",props:["products","selectedProduct","writableProductId","oldProduct"],data:()=>({searchStr:"",currentPage:0,pageCount:0,newProduct:null,currentProduct:{},headers:[{text:"ID",value:"id",width:70,align:"center"},{text:"Артикул",value:"vendorCode",width:100},{text:"Название",value:"title"},{text:"Количество",value:"count",width:130,align:"end"},{text:"Цена, руб",value:"price",width:130,align:"end"},{text:"Описание",value:"description",width:"30%"}]}),computed:{currentProducts(){return this.products.filter((t=>t.title.includes(this.searchStr)||t.vendorCode.includes(this.searchStr)))}},watch:{selectedProduct(t){this.currentProduct={...t}}},methods:{setPageCount(t){this.pageCount=t},setCurrentPage({page:t}){this.currentPage=t},async saveProduct(){if(!this.currentProduct?.title)return;const t=this.currentProduct;if(-1===t.id){const e={title:t.title,vendorCode:t.vendorCode||"",count:+t.count||0,price:+t.price||0,description:t.description||""};this.$emit("createProduct",e)}else{const e={};if(this.oldProduct.title!==t.title&&(e.title=t.title?.trim()),this.oldProduct.vendorCode!==t.vendorCode&&(e.vendorCode=t.vendorCode?.trim()),+this.oldProduct.count!==+t.count&&(e.count=+t.count),+this.oldProduct.price!==+t.price&&(e.price=+t.price),this.oldProduct.description!==t.description&&(e.description=t.description?.trim()),!Object.keys(e).length)return this.$emit("cancelWritingProduct");this.$emit("updateProduct",t.id,e)}}}},fe=ge,Ee=(0,h.Z)(fe,pe,Ce,!1,null,null,null),_e=Ee.exports,ye=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-stock-services-table d-flex flex-column"},[e(D.Z,{staticClass:"flex-grow-0 my-0 mb-5"},[e(x.Z,{staticClass:"py-0",attrs:{cols:"3"}},[e(w.Z,{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Поиск услуги","single-line":"","hide-details":"",color:"#FFC11C",filled:"",dense:""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}})],1)],1),e("h3",[t._v("В разработке")])],1)},xe=[],ke={name:"GStockServicesTable",data:()=>({}),computed:{},watch:{},methods:{}},Se=ke,Oe=(0,h.Z)(Se,ye,xe,!1,null,null,null),Te=Oe.exports,be={name:"MainLayout",components:{GCreateOrderModalForm:Zt,GDetailOrderModalShield:me},data:()=>({links:[{id:0,title:"Календарь",url:"/"},{id:1,title:"Склад",url:"/stock"},{id:2,title:"Заказы",url:"/orders"},{id:3,title:"Клиенты",url:"/clients"},{id:4,title:"Отзывы",url:"/feedbacks"},{id:5,title:"Грумеры",url:"/groomers"}],logoIcon:s(9574),logoutIcon:s(5053)}),mounted(){this.GET_SERVICES(),this.GET_ALL_GROOMERS(),this.GET_ALL_CLIENTS(),this.GET_ALL_PRODUCTS()},methods:{...(0,kt.nv)(["LOGOUT","GET_SERVICES","GET_ALL_GROOMERS","GET_ALL_CLIENTS","GET_ALL_PRODUCTS"]),async logout(){const{status:t}=await this.LOGOUT();"success"===t&&this.$router.push("/login")}}},De=be,Ze=(0,h.Z)(De,C,g,!1,null,null,null),we=Ze.exports,Pe=r.ZP.extend({name:"App",components:{EmptyLayout:p,MainLayout:we},computed:{layout(){const t=this.$route.meta?.layout||"empty";return`${t}-layout`}}}),Fe=Pe,Re=(0,h.Z)(Fe,a,i,!1,null,null,null),Ae=Re.exports,Ie=s(5205);(0,Ie.z)("/crm-staticfiles/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});s(1703);class Le{static login(t){const{username:e,password:s}=t;if(!e&&!s)throw"User data not found";return ts({key:"User.login",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\ttokenAuth(\n\t\t\t\t\t\t\tusername: "${e}",\n\t\t\t\t\t\t\tpassword: "${s}"\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttoken\n\t\t\t\t\t\t\tpayload\n\t\t\t\t\t\t\trefreshExpiresIn\n\t\t\t\t\t\t\trefreshToken\n\t\t\t\t\t\t}\n\t\t\t\t}`}})}static validateToken(t){return t?ts({key:"User.validateToken",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tverifyToken(token: "${t}") {\n\t\t\t\t\t\t\tpayload\n\t\t\t\t\t\t}\n\t\t\t\t}`}}):null}static updateRefreshToken(t){return t?ts({key:"User.getRefreshToken",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\trefreshToken(\n\t\t\t\t\t\t\trefreshToken: "${t}",\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\ttoken\n\t\t\t\t\t\t\tpayload\n\t\t\t\t\t\t\trefreshExpiresIn\n\t\t\t\t\t\t\trefreshToken\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}}):null}static revokeRefreshToken(t){return t?ts({key:"User.logout",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\trevokeToken(\n\t\t\t\t\t\t\trefreshToken: "${t}",\n\t\t\t\t\t\t)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trevoked\n\t\t\t\t\t\t}\n\t\t\t\t}`}}):null}}var Me=Le;const $e="/crm";class Ge{static fetchAllMasters(){return ts({key:"Master.fetchAllMasters",query:{query:"\n\t\t\t\t\tquery {\n\t\t\t\t\t\tallGroomers {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\tavatar\n\t\t\t\t\t\t\teducation\n\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\tpost\n\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t\taddress\n\t\t\t\t\t\t\trate\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t"}})}static fetchMasterById(t){if(!t)throw"Groomer ID exist";return ts({key:"Master.fetchMasterById",query:{query:`\n\t\t\t\t\tquery {\n\t\t\t\t\t\tmasterById(id: "${t}") {\n\t\t\t\t\t\t\tmaster {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\tavatar\n\t\t\t\t\t\t\t\teducation\n\t\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\t\tpost\n\t\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t\t\taddress\n\t\t\t\t\t\t\t\trate\n\t\t\t\t\t\t\t\tcomment\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallOrders {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tservices {\n\t\t\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\t\t\tservice {\n\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tproducts {\n\t\t\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\t\t\tproduct {\n\t\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmaster {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclient {\n\t\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\tisSuccess\n\t\t\t\t\t\t\t\tisCancel\n\t\t\t\t\t\t\t\tisReserved\n\t\t\t\t\t\t\t\tupdateDate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}})}static createMaster(t){const e=Object.keys(t).reduce(((e,s)=>"rate"===s?e+`${s}: ${t[s]}\n`:"comment"===s?e+`${s}: "${t[s]?.replace("\n","\\n")}"\n`:e+`${s}: "${t[s]}"\n`),"");return ts({key:"Master.createMaster",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tcreateMaster (\n\t\t\t\t\t\t\tmasterData: {\n\t\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tmaster {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallMasters {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\tavatar\n\t\t\t\t\t\t\t\teducation\n\t\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\t\tpost\n\t\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t\t\taddress\n\t\t\t\t\t\t\t\trate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}static updateMaster(t,e){const s=Object.keys(e).reduce(((t,s)=>"rate"===s?t+`${s}: ${e[s]}\n`:"comment"===s?t+`${s}: "${e[s]?.replace("\n","\\n")}"\n`:t+`${s}: "${e[s]}"\n`),"");return ts({key:"Master.updateMaster",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tupdateMaster (\n\t\t\t\t\t\t\tid: "${t}",\n\t\t\t\t\t\t\tmasterData: {\n\t\t\t\t\t\t\t\t${s}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tmaster {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\tavatar\n\t\t\t\t\t\t\t\teducation\n\t\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\t\tpost\n\t\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t\t\taddress\n\t\t\t\t\t\t\t\trate\n\t\t\t\t\t\t\t\tcomment\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallMasters {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\tavatar\n\t\t\t\t\t\t\t\teducation\n\t\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\t\tpost\n\t\t\t\t\t\t\t\tcolor\n\t\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t\t\taddress\n\t\t\t\t\t\t\t\trate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}static uploadAvatar(t,e){const s=new FormData;s.append("id",t),s.append("file",e);const n=r.ZP.$cookies.get("JWT");try{return fetch($e+"/api/upload-master-avatar",{method:"POST",headers:{Authorization:`JWT ${n||""}`},body:s}).then((t=>(console.log("response",t),t.json()))).then((t=>(console.log("json",t),t))).catch((t=>(console.log("Master.uploadAvatar response:",t),{master:null})))}catch(a){return console.log("Master.uploadAvatar response:",a),{master:null}}}}var Ne=Ge;class Ve{static fetchAllServices(){return ts({key:"Services.fetchAllServices",query:{query:"\n\t\t\t\t\tquery {\n\t\t\t\t\t\tallServices {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\tanimal\n\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\ttime\n\t\t\t\t\t\t\timg\n\t\t\t\t\t\t\tcategory {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreed {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}"}})}}class Ue{static getEvents(){return ts({key:"Events.getEvents",query:{query:`\n\t\t\t\t\tquery {\n\t\t\t\t\t\tallEvents {${qe}}\n\t\t\t\t\t}`}})}static createEvent({title:t,startDate:e,endDate:s,services:r,client:n,master:a,comment:i}){return ts({key:"Events.getEvents",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tcreateEvent(\n\t\t\t\t\t\t\teventData: {\n\t\t\t\t\t\t\t\ttitle: "${t}"\n\t\t\t\t\t\t\t\tstartDate: "${e}"\n\t\t\t\t\t\t\t\tendDate: "${s}"\n\t\t\t\t\t\t\t\tservices: [${r?.join(",")||""}]\n\t\t\t\t\t\t\t\tclient: "${n||""}"\n\t\t\t\t\t\t\t\tmaster: "${a||""}"\n\t\t\t\t\t\t\t\tcomment: "${i?.replaceAll("\n","\\n")}"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t  ) {\n\t\t\t\t\t\t\tevent {${qe}}\n\t\t\t\t\t\t\tallEvents {${qe}}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}static updateEvent({id:t,data:e}){if(!t||!e)return console.warn("event id or data is undefined");const s=Object.keys(e).reduce(((t,s)=>"services"===s?t+`\nservices: [${e.services.join(",")||""}]`:"comment"===s?t+`\ncomment: "${e.comment?.replaceAll("\n","\\n")}"`:t+`\n${s}: "${e[s]||""}"`),"");return ts({key:"Events.getEvents",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tupdateEvent(\n\t\t\t\t\t\t\tid: "${t}"\n\t\t\t\t\t\t\teventData: {${s}}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tevent {${qe}}\n\t\t\t\t\t\t\tallEvents {${qe}}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}static removeEvent(t){return t?ts({key:"Events.removeEvent",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tremoveEvent(\n\t\t\t\t\t\t\tid: "${t}"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tevent {${qe}}\n\t\t\t\t\t\t\tallEvents {${qe}}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}}):console.warn("event id is undefined")}static successEvent(t){return console.log("id",t),t?ts({key:"Events.successEvent",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tsuccessEvent(\n\t\t\t\t\t\t\tid: "${t}"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tevent {${qe}}\n\t\t\t\t\t\t\tallEvents {${qe}}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}}):console.warn("event id is undefined")}}var We=Ue;const qe="\nid\ntitle\nstartDate\nendDate\nclient {\n\tid\n\tusername\n\tlastname\n}\nservices {\n\tid\n\ttitle\n\tbreed {\n\t\tid\n\t\ttitle\n\t}\n}\nmaster {\n\tid\n\tusername\n\tlastname\n\tcolor\n}\ncomment\ncreateDate\nisSuccess\n";class Be{static fetchAllClients(){return ts({key:"Clients.fetchAllClients",query:{query:"\n\t\t\t\t\tquery {\n\t\t\t\t\t\tallClients {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\tcomment\n\t\t\t\t\t\t\tanimal\n\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t}\n\t\t\t\t\t}"}})}static createClient(t){const e=Object.keys(t).reduce(((e,s)=>"comment"===s?e+`${s}: "${t[s]?.replace("\n","\\n")}"`:e+`${s}: "${t[s]}"`),"");return ts({key:"Clients.createClient",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tcreateClient(\n\t\t\t\t\t\t\tclientData: {\n\t\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tclient {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallClients {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\t\tcomment\n\t\t\t\t\t\t\t\tanimal\n\t\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}static updateClient(t,e){const s=Object.keys(e).reduce(((t,s)=>"comment"===s?t+`${s}: "${e[s]?.replace("\n","\\n")}"`:t+`${s}: "${e[s]}"`),"");return ts({key:"Clients.updateClient",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tupdateClient(\n\t\t\t\t\t\t\tid: "${t}"\n\t\t\t\t\t\t\tclientData: {\n\t\t\t\t\t\t\t\t${s}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tclient {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallClients {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\t\tcomment\n\t\t\t\t\t\t\t\tanimal\n\t\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}static removeClient(t){return ts({key:"Clients.removeClient",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tremoveClient(\n\t\t\t\t\t\t\tid: "${t}"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tclient {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallClients {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\tusername\n\t\t\t\t\t\t\t\tlastname\n\t\t\t\t\t\t\t\tphone\n\t\t\t\t\t\t\t\tcomment\n\t\t\t\t\t\t\t\tanimal\n\t\t\t\t\t\t\t\tcreateDate\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsuccess\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}}var je=Be;class He{static getProducts(){return ts({key:"Products.getProducts",query:{query:"\n\t\t\t\t\tquery {\n\t\t\t\t\t\tallProducts {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\tvendorCode\n\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t}\n\t\t\t\t\t}"}})}static createProduct(t){const e=Object.keys(t).reduce(((e,s)=>"description"===s?e+`${s}: "${t[s]?.replace("\n","\\n")}"`:"number"===typeof t[s]?e+`${s}: ${t[s]}`:e+`${s}: "${t[s]}"`),"");return ts({key:"Products.createProduct",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tcreateProduct(\n\t\t\t\t\t\t\tproductData: {\n\t\t\t\t\t\t\t\t${e}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tproduct {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallProducts {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tvendorCode\n\t\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}static updateProduct(t,e){const s=Object.keys(e).reduce(((t,s)=>"description"===s?t+`${s}: "${e[s]?.replace("\n","\\n")}"`:"number"===typeof e[s]?t+`${s}: ${e[s]}`:t+`${s}: "${e[s]}"`),"");return ts({key:"Products.updateProduct",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tupdateProduct(\n\t\t\t\t\t\t\tid: "${t}"\n\t\t\t\t\t\t\tproductData: {\n\t\t\t\t\t\t\t\t${s}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tproduct {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallProducts {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tvendorCode\n\t\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}static removeProduct(t){return ts({key:"Products.removeProduct",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tremoveProduct(\n\t\t\t\t\t\t\tid: "${t}"\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tproduct {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallProducts {\n\t\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\t\tvendorCode\n\t\t\t\t\t\t\t\tcount\n\t\t\t\t\t\t\t\tprice\n\t\t\t\t\t\t\t\tdescription\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsuccess\n\t\t\t\t\t\t}\n\t\t\t\t\t}`}})}}var Ye=He;class Ke{static fetchAllOrders(){return ts({key:"Order.fetchAllOrders",query:{query:`\n\t\t\t\t\tquery {\n\t\t\t\t\t\tallOrders {\n\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}})}static fetchOrderById(t){if(!t)throw"Groomer ID exist";return ts({key:"Order.fetchOrderById",query:{query:`\n\t\t\t\t\tquery {\n\t\t\t\t\t\torderById(id: "${t}") {\n\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}})}static createOrder(t){return ts({key:"Order.createOrder",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tcreateOrder(\n\t\t\t\t\t\t\torderData: {\n\t\t\t\t\t\t\t\t${Qe(t)}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\torder {\n\t\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallOrders {\n\t\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}})}static payForOrder(t){if(t)return ts({key:"Order.payForOrder",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tpayForOrder(\n\t\t\t\t\t\t\tid: ${t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\torder {\n\t\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallOrders {\n\t\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}})}static updateAndPayOrder(t,e){if(t)return console.log("orderData",e),ts({key:"Order.updateAndPayOrder",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tupdateAndPayOrder(\n\t\t\t\t\t\t\tid: ${t}\n\t\t\t\t\t\t\torderData: {\n\t\t\t\t\t\t\t\t${Qe(e)}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\torder {\n\t\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallOrders {\n\t\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}})}static cancelOrder(t){if(t)return ts({key:"Order.cancelOrder",query:{query:`\n\t\t\t\t\tmutation {\n\t\t\t\t\t\tcancelOrder(\n\t\t\t\t\t\t\tid: ${t}\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\torder {\n\t\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tallOrders {\n\t\t\t\t\t\t\t\t${ze}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t`}})}}var Je=Ke;const ze="\nid\nprice\nclient { id }\nmaster { id }\nservices {\n\tid\n\tcount\n\tservice {\n\t\tid\n\t\ttitle\n\t\tprice\n\t}\n}\nproducts {\n\tid\n\tcount\n\tproduct {\n\t\tid\n\t\ttitle\n\t\tprice\n\t}\n}\nisSuccess\nisCancel\nisReserved\nupdateDate\ncreateDate\n",Qe=t=>`\n\tservices: [${t.services?.map((t=>`{\n\t\t\t\t\tid: "${t.id||""}",\n\t\t\t\t\tserviceId: ${t.serviceId},\n\t\t\t\t\tcount: ${t.count} \n\t\t\t\t}`)).join(",")}]\n\tproducts: [${t.products?.map((t=>`{\n\t\t\t\t\tid: "${t.id||""}",\n\t\t\t\t\tproductId: ${t.productId},\n\t\t\t\t\tcount: ${t.count} \n\t\t\t\t}`)).join(",")}]\n\tclient: "${t.clientId||""}"\n\tmaster: "${t.masterId||""}"\n\tprice: ${t.price}\n\tisSuccess: ${t.isSuccess||!1}\n\tisReserved: ${t.isReserved||!1}\n`,Xe="/crm",ts=({key:t="",query:e})=>{const s=r.ZP.$cookies.get("JWT");try{return fetch(Xe+"/graphql/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`JWT ${s||""}`},body:JSON.stringify(e||{})}).then((t=>{if(!t?.ok)throw new Error(t.statusText);return t.json()})).then((t=>t.data)).catch((e=>(console.warn(`${t} exeption:`,e),null)))}catch(n){return console.warn(`${t} exeption:`,n),new Promise((t=>t(null)))}};var es={user:Me,master:Ne,services:Ve,events:We,clients:je,products:Ye,order:Je},ss={state:()=>({}),mutations:{},actions:{async LOGIN({commit:t},e){try{const{tokenAuth:t}=await es.user.login(e)||{},{token:s,refreshToken:n}=t||{};if(!s)throw r.ZP.$cookies.remove("JWT"),new Error("token is null");return r.ZP.$cookies.set("JWT",s),r.ZP.$cookies.set("JWTrefreshToken",n),{...ds,data:{token:s,refreshToken:n}}}catch(s){return console.error("action LOGIN exeption:",s),us}},async LOGOUT(){try{const t=r.ZP.$cookies.get("JWTrefreshToken"),e=await es.user.revokeRefreshToken(t);return r.ZP.$cookies.remove("JWT"),{...ds,data:e}}catch(t){return us}},async CHECK_TOKEN(){try{const t=r.ZP.$cookies.get("JWT");if(!t)throw"JWT token missing";const{verifyToken:e}=await es.user.validateToken(t);if(!e)throw"JWT token not valid";const{username:s,exp:n,origIat:a}=e.payload||{};if(a>3e8)return!0;const i=r.ZP.$cookies.get("JWTrefreshToken"),{refreshToken:o}=await es.user.updateRefreshToken(i),{token:l,refreshToken:c}=o;return r.ZP.$cookies.set("JWT",l),r.ZP.$cookies.set("JWTrefreshToken",c),await es.user.revokeRefreshToken(i),{...ds,data:{token:l,refreshToken:c}}}catch(t){return r.ZP.$cookies.remove("JWT"),r.ZP.$cookies.remove("JWTrefreshToken"),us}},CHECK_USER({commit:t}){const e=r.ZP.$cookies.get("JWT");return e}},getters:{}},rs={state:()=>({services:[]}),mutations:{SET_SERVICES(t,e){t.services=e}},actions:{async GET_SERVICES({commit:t}){try{const{allServices:e}=await es.services.fetchAllServices();return t("SET_SERVICES",e),{...ds,data:e}}catch(e){return console.log("GET_SERVICES exeption:",e),us}}},getters:{SERVICES:t=>t.services}},ns={state:()=>({groomers:[]}),mutations:{SET_GROOMERS(t,e){t.groomers=e}},actions:{async GET_ALL_GROOMERS({commit:t}){try{const{allGroomers:e}=await es.master.fetchAllMasters();if(!e)throw"[GET_ALL_GROOMERS] allGroomers exist";return e?(t("SET_GROOMERS",e),{...ds,data:e}):us}catch{}},async GET_MASTER_BY_ID({commit:t},e){try{const{masterById:t}=await es.master.fetchMasterById(e);if(!t)throw"[GET_MASTER_BY_ID] masterById exist";return console.log("masterById",t),{...ds,data:t}}catch(s){return us}},async CREATE_MASTER({commit:t},e){try{const{createMaster:s}=await es.master.createMaster(e);return t("SET_GROOMERS",s?.allMasters||[]),{...ds,data:s?.allMasters}}catch(s){return console.log("CREATE_MASTER exeption:",s),us}},async UPDATE_MASTER({commit:t},{id:e,formData:s}){try{const{updateMaster:r}=await es.master.updateMaster(e,s);return t("SET_GROOMERS",r?.allMasters||[]),{...ds,data:r?.master}}catch(r){return console.log("CREATE_MASTER exeption:",r),us}}},getters:{GROOMERS:t=>t.groomers}},as={state:()=>({events:[]}),mutations:{SET_EVENTS(t,e){t.events=e}},actions:{async GET_EVENTS({commit:t}){try{const{allEvents:e}=await es.events.getEvents();return t("SET_EVENTS",e),{...ds,data:e}}catch(e){return console.log("GET_EVENTS exeption:",e),us}},async CREATE_EVENT({commit:t},e){try{const{createEvent:s}=await es.events.createEvent(e);return s?.allEvents&&t("SET_EVENTS",s.allEvents),{...ds,data:s}}catch(s){return console.log("CREATE_EVENT exeption:",s),us}},async UPDATE_EVENT({commit:t},{id:e,data:s}){try{const{updateEvent:r}=await es.events.updateEvent({id:e,data:s});return r?.allEvents&&t("SET_EVENTS",r.allEvents),{...ds,data:r}}catch(r){return console.log("UPDATE_EVENT exeption:",r),us}},async REMOVE_EVENT({commit:t},e){try{const{removeEvent:s}=await es.events.removeEvent(e);return s?.allEvents&&t("SET_EVENTS",s.allEvents),{...ds,data:s}}catch(s){return console.log("REMOVE_EVENT exeption:",s),us}},async SUCCESS_EVENT({commit:t},e){try{const{successEvent:s}=await es.events.successEvent(e);return s?.allEvents&&t("SET_EVENTS",s.allEvents),{...ds,data:s}}catch(s){return console.log("REMOVE_EVENT exeption:",s),us}}},getters:{EVENTS:t=>t.events}},is={state:()=>({clients:[]}),mutations:{SET_CLIENTS(t,e){t.clients=e}},actions:{async GET_ALL_CLIENTS({commit:t}){try{const{allClients:e}=await es.clients.fetchAllClients();return t("SET_CLIENTS",e),{...ds,data:e}}catch(e){return console.log("GET_ALL_CLIENTS exeption:",e),us}},async CREATE_CLIENT({commit:t},e){try{const{createClient:s}=await es.clients.createClient(e);return t("SET_CLIENTS",s?.allClients||[]),{...ds,data:s}}catch(s){return console.log("CREATE_CLIENT exeption:",s),us}},async UPDATE_CLIENT({commit:t},{id:e,data:s}){try{const{updateClient:r}=await es.clients.updateClient(e,s);return t("SET_CLIENTS",r?.allClients||[]),{...ds,data:r}}catch(r){return console.log("UPDATE_CLIENT exeption:",r),us}},async REMOVE_CLIENT({commit:t},e){try{const{removeClient:s}=await es.clients.removeClient(e);return t("SET_CLIENTS",s?.allClients||[]),{...ds,data:s}}catch(s){return console.log("REMOVE_CLIENT exeption:",s),us}}},getters:{CLIENTS:t=>t.clients}},os={state:()=>({products:[]}),mutations:{SET_PRODUCTS(t,e){t.products=e}},actions:{async GET_ALL_PRODUCTS({commit:t}){try{const{allProducts:e}=await es.products.getProducts();return t("SET_PRODUCTS",e||[]),{...ds,data:e}}catch(e){return console.log("GET_ALL_PRODUCTS exeption:",e),us}},async CREATE_PRODUCT({commit:t},e){try{const{createProduct:s}=await es.products.createProduct(e);return t("SET_PRODUCTS",s?.allProducts||[]),{...ds,data:s}}catch(s){return console.log("CREATE_PRODUCT exeption:",s),us}},async UPDATE_PRODUCT({commit:t},{id:e,data:s}){try{const{updateProduct:r}=await es.products.updateProduct(e,s);return t("SET_PRODUCTS",r?.allProducts||[]),{...ds,data:r}}catch(r){return console.log("UPDATE_PRODUCT exeption:",r),us}},async REMOVE_PRODUCT({commit:t},e){try{const{removeProduct:s}=await es.products.removeProduct(e);return console.log("removeProduct",s),t("SET_PRODUCTS",s?.allProducts||[]),{...ds,data:s}}catch(s){return console.log("REMOVE_PRODUCT exeption:",s),us}}},getters:{PRODUCTS:t=>t.products}},ls={state:()=>({allOrders:[],isCreateOrderShow:!1,isDetailOrderShow:!1,defaultOrderData:null,detailOrderShieldData:null}),mutations:{SET_ALL_ORDERS(t,e){t.allOrders=e||[]},SHOW_ORDER_FORM(t,e){e&&(t.defaultOrderData=e),t.isCreateOrderShow=!0},CLOSE_ORDER_FORM(t){t.isCreateOrderShow=!1,t.defaultOrderData=null},SHOW_ORDER_DETAIL_SHIELD(t,e){e&&(t.detailOrderShieldData=e),t.isDetailOrderShow=!0},CLOSE_ORDER_DETAIL_SHIELD(t){t.isDetailOrderShow=!1,t.detailOrderShieldData=null}},actions:{async GET_ALL_ORDERS({commit:t}){try{const{allOrders:e}=await es.order.fetchAllOrders();return t("SET_ALL_ORDERS",e),{...ds,data:e}}catch(e){return console.log("GET_ALL_ORDERS exeption:",e),us}},async CREATE_ORDER({commit:t},e){try{const{createOrder:s}=await es.order.createOrder(e);return t("SET_ALL_ORDERS",s.allOrders),{...ds,data:s}}catch(s){return console.log("CREATE_ORDER exeption:",s),us}},async PAY_FOR_ORDER({commit:t},e){try{const{payForOrder:s}=await es.order.payForOrder(e);return t("SET_ALL_ORDERS",s.allOrders),{...ds,data:s}}catch(s){return console.log("PAY_FOR_ORDER exeption:",s),us}},async UPDATE_AND_PAY_ORDER({commit:t},{id:e,orderData:s}){try{const{updateAndPayOrder:r}=await es.order.updateAndPayOrder(e,s);return t("SET_ALL_ORDERS",r.allOrders),{...ds,data:r}}catch(r){return console.log("UPDATE_AND_PAY_ORDER exeption:",r),us}},async CANCEL_ORDER({commit:t},e){try{const{cancelOrder:s}=await es.order.cancelOrder(e);return t("SET_ALL_ORDERS",s.allOrders),{...ds,data:s}}catch(s){return console.log("CANCEL_ORDER exeption:",s),us}}},getters:{ALL_ORDERS:t=>t.allOrders,IS_CREATE_ORDER_SHOW:t=>t.isCreateOrderShow,IS_DETAIL_ORDER_SHOW:t=>t.isDetailOrderShow,DEFAULT_ORDER_DATA:t=>t.defaultOrderData,DETAIL_ORDER_SHIELD_DATA:t=>t.detailOrderShieldData}};r.ZP.use(kt.ZP);var cs=new kt.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{user:ss,services:rs,master:ns,events:as,clients:is,products:os,order:ls}});const ds={status:"success",ok:!0,data:null},us={status:"error",ok:!1,data:null};var ms=s(8345),hs=function(){var t=this,e=t._self._c;return e(_.Z,{staticClass:"g-login d-flex flex-column",attrs:{color:"white",elevation:"0",height:"320",width:"327"}},[e("div",{staticClass:"text-h4 text-center"},[t._v("Вход")]),e("div",{staticClass:"flex-grow-1"},[e(w.Z,{ref:"username",attrs:{label:"Логин",rules:[()=>!!t.username||"Введите логин"],color:"rgba(36, 49, 56, 0.38)"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e(w.Z,{ref:"password",attrs:{label:"Пароль",type:"password",rules:[t=>!!t||"Введите пароль",t=>t.length>3||"Короткий пароль"],color:"rgba(36, 49, 56, 0.38)"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),e(E.Z,{attrs:{"x-large":"",color:"#FFC11C",dark:""},on:{click:t.onLogin}},[t._v("Войти")])],1)},vs=[];function ps(t){let e=!1;return Object.keys(t).forEach((t=>{const s=this.$refs[t].validate(!0);console.log("isValid"),s||(e=!0)})),e}var Cs={name:"GLogin",data:()=>({username:"",password:""}),computed:{form(){return{username:this.username,password:this.password}}},mounted(){this.CHECK_TOKEN()},methods:{...(0,kt.nv)(["LOGIN","CHECK_TOKEN"]),async onLogin(){const t=ps.call(this,this.form);if(t)return;const e=await this.LOGIN({username:this.username,password:this.password});console.log("responseresponse",e),"success"===e.status&&this.$router.push("/")}}},gs=Cs,fs=(0,h.Z)(gs,hs,vs,!1,null,null,null),Es=fs.exports,_s=s(3493),ys=s(7423),xs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-calendar flex-grow-1 d-flex flex-column"},[e("h1",[t._v("Календарь")]),e(D.Z,{staticClass:"g-calendar__content fill-height flex-grow-1 d-flex"},[e(x.Z,{staticClass:"flex-column d-flex flex-column"},[e(ys.Z,{attrs:{height:"64"}},[e(W.Z,{attrs:{flat:""}},[e(E.Z,{staticClass:"mr-4",attrs:{outlined:"",tile:"",color:"grey darken-2"},on:{click:t.setToday}},[t._v(" Сегодня ")]),e(E.Z,{attrs:{fab:"",tile:"",text:"",small:"",color:"grey darken-2"},on:{click:t.prev}},[e(T.Z,{attrs:{small:""}},[t._v(" mdi-chevron-left ")])],1),e(E.Z,{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:t.next}},[e(T.Z,{attrs:{small:""}},[t._v(" mdi-chevron-right ")])],1),t.$refs.calendar?e(q.qW,[t._v(" "+t._s(t.$refs.calendar.title)+" ")]):t._e(),e(Z.Z),e(E.Z,{staticClass:"mr-4",attrs:{outlined:"",tile:"",color:"grey darken-2"},on:{click:t.createOrder}},[t._v(" Оформить заказ ")]),e(E.Z,{staticClass:"mr-4",attrs:{outlined:"",tile:"",color:"grey darken-2"},on:{click:t.getEvents}},[t._v(" Обновить ")]),e(E.Z,{staticClass:"mr-4",attrs:{outlined:"",tile:"",color:"grey darken-2"},on:{click:function(e){t.type="week"}}},[t._v(" Неделя ")]),e(E.Z,{attrs:{outlined:"",tile:"",color:"grey darken-2"},on:{click:function(e){t.type="month"}}},[t._v(" Месяц ")])],1)],1),e(ys.Z,{staticClass:"flex-grow-1",attrs:{height:"600"}},[e(_s.Z,{ref:"calendar",attrs:{color:"#FFC11C",events:t.events,"event-color":t.getEventColor,"show-week":!0,type:t.type,locale:"ru",weekdays:"1,2,3,4,5,6,0","locale-first-day-of-year":4,"event-ripple":!1,"event-more-text":"смотреть все"},on:{"click:more":t.toggleWeek,"click:date":function(e){t.type="week"},"click:day":t.showCreateEventForm,"click:time":t.showCreateEventForm,"click:event":t.showEvent,"mousedown:event":t.startDrag,"mousemove:time":t.mouseMove,"mousedown:time":t.startTime,"mouseup:time":t.endDrag,change:t.getEvents,"contextmenu:time":t.toggleWeek,"contextmenu:day":t.toggleWeek},nativeOn:{mouseleave:function(e){return t.cancelDrag.apply(null,arguments)}},scopedSlots:t._u([{key:"event",fn:function({event:s,timed:r,eventSummary:n}){return[e("div",{staticClass:"d-flex align-start pl-1"},[s.isSuccess||s.client?t._e():e(T.Z,{staticStyle:{"margin-top":"2px"},attrs:{color:"white",size:"16"}},[t._v(" mdi-account-outline ")]),e("div",{staticClass:"v-event-draggable",domProps:{innerHTML:t._s(n())}})],1),e("div",{staticClass:"px-2"},[e("b",[t._v(" "+t._s(s.services.length>1?"Услуги":"Услуга")+" ")]),t._v(" : ")]),s.services.length?e("ul",{staticClass:"mb-1"},t._l(s.services,(function(s){return e("li",{key:s.id},[t._v(" "+t._s(s.breed.title)+" - "+t._s(s.title)+" ")])})),0):e("div",{staticClass:"px-2"},[e("i",[t._v("Услуга не выбрана")])]),s.master?e("div",{staticClass:"px-2"},[e("b",[t._v("Груммер")]),t._v(": "+t._s(s.master.username)+" "+t._s(s.master.lastname)+" ")]):t._e(),s.client?e("div",{staticClass:"px-2"},[e("b",[t._v("Клиент")]),t._v(": "+t._s(s.client.username)+" "+t._s(s.client.lastname)+" ")]):t._e(),r?e("div",{staticClass:"v-event-drag-bottom",on:{mousedown:function(e){return e.stopPropagation(),t.extendBottom(s)}}}):t._e()]}}]),model:{value:t.focus,callback:function(e){t.focus=e},expression:"focus"}}),e("GCalendarEventMenu",{attrs:{"selected-event":t.selectedEvent,"selected-element":t.selectedElement,"services-list":t.SERVICES,"groomers-list":t.GROOMERS,"clients-list":t.CLIENTS},on:{setEvent:t.setEvent,saveEvent:t.saveEvent,onClose:t.getEvents,onRemoveEvent:t.removeEvent,toCreateOrder:t.toCreateOrder},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}})],1)],1)],1),e("GCreateEventModalForm",{attrs:{"is-avtive":t.isModalFromShow,"current-date":t.currentDate,"current-time":t.currentTime,"services-list":t.SERVICES,"groomers-list":t.GROOMERS,"clients-list":t.CLIENTS},on:{onModalClose:function(e){t.isModalFromShow=!1},onSubmitEvent:t.createEvent}})],1)},ks=[],Ss={name:"GCalendar",components:{GCreateEventModalForm:V,GCalendarEventMenu:st},data:()=>({isModalFromShow:!1,currentDate:"",currentTime:"",focus:"",type:"month",typeToLabel:{month:"Месяц",week:"Неделя",day:"День","4day":"4 Дня"},selectedEvent:{},selectedElement:null,dragEvent:null,dragStart:null,currentEvent:null,createStart:null,extendOriginal:null,selectedOpen:!1,events:[]}),computed:{...(0,kt.Se)(["SERVICES","GROOMERS","EVENTS","CLIENTS"])},watch:{EVENTS(t){this.events=Os(t)}},mounted(){console.log("$refs.calendar",this.$vuetify)},methods:{...(0,kt.nv)(["GET_EVENTS","CREATE_EVENT","UPDATE_EVENT","REMOVE_EVENT"]),...(0,kt.OI)(["SHOW_ORDER_FORM"]),async getEvents(){const{data:t}=await this.GET_EVENTS();this.events=Os(t)},checkChange(){this.$refs.calendar.checkChange()},createOrder(){this.SHOW_ORDER_FORM()},async createEvent(t){const{data:{allEvents:e}}=await this.CREATE_EVENT(t);this.isModalFromShow=!1,e&&(this.events=Os(e))},toggleWeek({date:t}){this.focus=t,this.type="week"===this.type?"month":"week"},showCreateEventForm({date:t,time:e}){this.currentEvent||(this.currentTime=e,this.currentDate=t,this.isModalFromShow=!0)},getEventColor({color:t,isSuccess:e}){return e?"grey darken-1":t},setToday(){this.focus=""},prev(){this.$refs.calendar?.prev()},next(){this.$refs.calendar?.next()},setEvent(t){for(let e in t)this.selectedEvent[e]=t[e]},async saveEvent(){if(!this.selectedEvent)return;const t=this.EVENTS.find((t=>t.id===this.selectedEvent.id));if(!t)return;const{start:e,end:s,name:r,timed:n,color:a,services:i,...o}=this.selectedEvent,l={...o,title:r,startDate:I(e),endDate:I(s),services:JSON.parse(JSON.stringify(i))},c=L(t,l);if(Object.keys(c).length){const{data:{allEvents:t}}=await this.UPDATE_EVENT({id:this.selectedEvent.id,data:c});t&&(this.events=Os(t))}this.closeEvent()},async updateEventDates(t){if(!t)return;const e={startDate:I(t.start),endDate:I(t.end)},{data:{allEvents:s}}=await this.UPDATE_EVENT({id:t.id,data:e});s&&(this.events=Os(s))},async removeEvent(t){const{data:{allEvents:e}}=await this.REMOVE_EVENT(t);this.closeEvent(),e&&(this.events=Os(e))},showEvent({nativeEvent:t,event:e}){if(this.currentEvent)return;const s=()=>{this.selectedEvent=e,this.selectedElement=t.target,requestAnimationFrame((()=>requestAnimationFrame((()=>{this.selectedOpen=!0,this.selectedEvent=e}))))};if(this.selectedOpen)this.closeEvent();else{const t=this.dragEvent?200:0;setTimeout(s,t)}t.stopPropagation()},closeEvent(){requestAnimationFrame((()=>requestAnimationFrame((()=>{this.selectedOpen=!1,this.selectedEvent=null}))))},startDrag({event:t,timed:e}){t.isSuccess||(this.dragEvent=t,this.dragTime=null,this.extendOriginal=null)},extendBottom(t){t.isSuccess||(this.currentEvent=t,this.createStart=t.start,this.extendOriginal=t.end)},startTime(t){const e=this.toTime(t);if(this.dragEvent&&null===this.dragTime){const t=this.dragEvent.start;this.dragTime=e-t}},mouseMove(t){const e=this.toTime(t);if(this.dragEvent&&null!==this.dragTime){const t=this.dragEvent.start,s=this.dragEvent.end,r=s-t,n=e-this.dragTime,a=this.roundTime(n),i=a+r;this.dragEvent.start=a,this.dragEvent.end=i}else if(this.currentEvent&&null!==this.createStart){const t=this.roundTime(e,!1),s=Math.min(t,this.createStart),r=Math.max(t,this.createStart);this.currentEvent.start=s,this.currentEvent.end=r}},async endDrag(){(this.currentEvent||this.dragEvent)&&await this.updateEventDates(this.currentEvent||this.dragEvent),this.currentEvent=null,this.createStart=null,this.extendOriginal=null,this.dragTime=null,this.dragEvent=null},cancelDrag(){this.currentEvent&&(this.currentEvent.end=this.extendOriginal),this.endDrag()},roundTime(t,e=!0){const s=15,r=60*s*1e3;return e?t-t%r:t+(r-t%r)},toTime(t){return new Date(t.year,t.month-1,t.day,t.hour,t.minute).getTime()},toCreateOrder(t){this.selectedOpen=!1,t&&this.SHOW_ORDER_FORM(t)}}};const Os=t=>t.map((({title:t,startDate:e,endDate:s,master:r,...n})=>({...n,master:r,name:t,start:new Date(e).getTime(),end:new Date(s).getTime(),color:r?.color||"#FFC11C",timed:!0})));var Ts=Ss,bs=(0,h.Z)(Ts,xs,ks,!1,null,null,null),Ds=bs.exports,Zs=s(626),ws=s(2769),Ps=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-stock flex-grow-1 d-flex flex-column"},[e("h1",{staticClass:"mb-4"},[t._v("Склад")]),e(O.Z,{staticClass:"mb-5"}),e(D.Z,{staticClass:"flex-grow-0 my-0 mb-5"},[e(x.Z,{staticClass:"py-0 d-flex align-end"},[e(ws.Z,{attrs:{color:"#FFC11C"}},[e(Zs.Z,{on:{click:function(e){t.tableType="products"}}},[t._v(" Товары ")]),e(Zs.Z,{on:{click:function(e){t.tableType="services"}}},[t._v(" Услуги ")])],1)],1),e(x.Z,{staticClass:"d-flex py-0"},[e(Z.Z),e(E.Z,{attrs:{"x-large":"",color:"#FFC11C",tile:"",dark:"",elevation:"0"},on:{click:t.createProduct}},[e(T.Z,[t._v("mdi-plus")]),t._v(" Добавить новый товар ")],1)],1)],1),"products"===t.tableType?e("GStockProductsTable",{staticClass:"flex-grow-1",attrs:{products:t.products,"old-product":t.oldProduct,"selected-product":t.selectedProduct,"writable-product-id":t.writableProductId},on:{createProduct:t.successCreateProduct,updateProduct:t.successSaveProduct,cancelWritingProduct:t.cancelWritingProduct,writeProduct:t.writeProduct}}):t._e(),"services"===t.tableType?e("GStockServicesTable"):t._e(),e(S.Z,{attrs:{persistent:"","max-width":"290"},model:{value:t.removeDialog,callback:function(e){t.removeDialog=e},expression:"removeDialog"}},[e(_.Z,[e(y.EB,{staticClass:"text-h5"},[t._v(" Удалить событие? ")]),e(y.ZB,[t._v(" После удаления данные будут недоступны ")]),e(y.h7,[e(Z.Z),e(E.Z,{attrs:{color:"green darken-1",text:""},on:{click:t.cancelRemoveProduct}},[t._v(" Отмена ")]),e(E.Z,{attrs:{color:"red darken-1",text:""},on:{click:t.confirmedRemoveProduct}},[t._v(" Удалить ")])],1)],1)],1)],1)},Fs=[];const Rs={id:-1,title:"",vendorCode:"",count:0,price:0,description:""};var As={name:"GStock",components:{GStockProductsTable:_e,GStockServicesTable:Te},data:()=>({tableType:"products",removeDialog:!1,products:[],writableProductId:null,selectedProduct:null,oldProducts:null,oldProduct:null,removeProductId:null}),computed:{currentProducts(){return this.products.filter((t=>t.title.includes(this.searchStr)||t.vendorCode.includes(this.searchStr)))}},mounted(){this.getProducts()},methods:{...(0,kt.nv)(["GET_ALL_PRODUCTS","CREATE_PRODUCT","UPDATE_PRODUCT","REMOVE_PRODUCT"]),async getProducts(){const{data:t}=await this.GET_ALL_PRODUCTS();this.products=t},createProduct(){this.oldProducts=JSON.parse(JSON.stringify(this.products)),this.products=[{...Rs},...this.products],this.writableProductId=-1,this.selectedProduct=this.products[0]},async successCreateProduct(t){const{data:{allProducts:e}}=await this.CREATE_PRODUCT(t);this.products=e,this.selectedProduct=null,this.writableProductId=null,this.oldProducts=null},async successSaveProduct(t,e){const{data:{allProducts:s}}=await this.UPDATE_PRODUCT({id:t,data:e});this.products=s,this.selectedProduct=null,this.writableProductId=null,this.oldProducts=null},writeProduct(t){this.cancelWritingProduct(),this.writableProductId=t,this.selectedProduct=this.products.find((e=>+e.id===+t)),this.oldProduct={...this.selectedProduct}},cancelWritingProduct(){this.oldProducts&&(this.products=[...this.oldProducts],this.oldProducts=null),this.oldProduct&&(this.products=[...this.products].map((t=>t.id===this.writableProductId?{...this.oldProduct}:t)),this.oldProduct=null),this.selectedProduct=null,this.writableProductId=null},removeProduct(t){console.log("removeProduct",t),this.removeProductId=t,this.removeDialog=!0},cancelRemoveProduct(){this.removeProductId=null,this.removeDialog=!1},async confirmedRemoveProduct(){if(this.removeProductId){const{data:{allProducts:t}}=await this.REMOVE_PRODUCT(this.removeProductId);this.products=t}this.removeProductId=null,this.removeDialog=!1}}},Is=As,Ls=(0,h.Z)(Is,Ps,Fs,!1,null,null,null),Ms=Ls.exports,$s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-orders flex-grow-1 d-flex flex-column"},[e("h1",{staticClass:"mb-4"},[t._v("Заказы")]),e(O.Z,{staticClass:"mb-5"}),e(D.Z,{staticClass:"flex-grow-0 my-0 mb-5"},[e(x.Z,{staticClass:"py-0 d-flex align-end",attrs:{cols:"3"}},[e(w.Z,{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Поиск заказа","single-line":"","hide-details":"",color:"#FFC11C",filled:"",dense:""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}})],1),e(x.Z,{staticClass:"d-flex py-0"},[e(Z.Z),e(E.Z,{attrs:{"x-large":"",tile:"",outlined:"",elevation:"0"},on:{click:t.createOrder}},[e(T.Z,[t._v("mdi-plus")]),t._v(" Создать заказ ")],1)],1)],1),e(gt.Z,{staticClass:"flex-grow-1",attrs:{"items-per-page":10,headers:t.headers,items:t.currentOrders,"no-data-text":"Ничего найти не получилось","no-results-text":"Ничего найти не получилось","loading-text":"Загрузка","footer-props":{itemsPerPageText:"Заказов на странице",itemsPerPageAllText:"Все",showCurrentPage:!0,showFirstLastPage:!0,pageText:`${t.currentPage} из ${t.pageCount}`}},on:{pagination:t.setCurrentPage},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e("tr",{staticClass:"pointer",on:{click:function(e){return t.showDetail(s)}}},[e("td",{staticClass:"py-2"},[t._v(" "+t._s(s.id)+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.createDate)+" ")]),e("td",{staticClass:"text-xs-right py-2",class:`is-${s.status}`},[t._v(" "+t._s(t.statuses[s.status])+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.price)+" ")])])]}}])})],1)},Gs=[];const Ns=t=>new Intl.DateTimeFormat("ru-RU",{dateStyle:"medium",timeStyle:"short"}).format(new Date(t));var Vs={name:"GOrders",data:()=>({searchStr:"",headers:[{text:"Номер заказа",value:"id"},{text:"Время заказа",value:"createDate"},{text:"Статус заказа",value:"status"},{text:"Сумма заказа",value:"price"}],orders:[],currentPage:0,pageCount:0,statuses:{reserved:"Забронировано",success:"Продано",cancel:"Отменен",overdue:"Просрочен"}}),computed:{...(0,kt.Se)(["ALL_ORDERS"]),currentOrders(){return this.orders.map((t=>{let e="reserved";return t.isCancel?e="cancel":t.isSuccess&&(e="success"),{id:t.id,createDate:Ns(t.createDate),price:t.price,status:e,data:t}}))}},watch:{ALL_ORDERS(t){this.orders=t||[]}},mounted(){this.GET_ALL_ORDERS()},methods:{...(0,kt.nv)(["GET_ALL_ORDERS"]),...(0,kt.OI)(["SHOW_ORDER_FORM","SHOW_ORDER_DETAIL_SHIELD"]),createOrder(){this.SHOW_ORDER_FORM()},setCurrentPage({page:t,pageCount:e}){this.currentPage=t,this.pageCount=e},showDetail({data:t}){this.SHOW_ORDER_DETAIL_SHIELD(t)}}},Us=Vs,Ws=(0,h.Z)(Us,$s,Gs,!1,null,null,null),qs=Ws.exports,Bs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-clients flex-grow-1 d-flex flex-column"},[e("h1",{staticClass:"mb-4"},[t._v("Клиенты")]),e(O.Z,{staticClass:"mb-5"}),e(D.Z,{staticClass:"flex-grow-0 my-0 mb-5"},[e(x.Z,{staticClass:"py-0 d-flex align-end",attrs:{cols:"3"}},[e(w.Z,{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Поиск клиента","single-line":"","hide-details":"",color:"#FFC11C",filled:"",dense:""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}})],1),e(x.Z,{staticClass:"d-flex"},[e(Z.Z),e(E.Z,{attrs:{"x-large":"",color:"#FFC11C",tile:"",dark:"",elevation:"0"},on:{click:t.createClient}},[e(T.Z,[t._v("mdi-plus")]),t._v(" Создать нового клиента ")],1)],1)],1),e(gt.Z,{staticClass:"flex-grow-1",attrs:{"items-per-page":15,headers:t.headers,items:t.currentClients,search:t.search,"no-data-text":"Ничего найти не получилось","no-results-text":"Ничего найти не получилось","loading-text":"Загрузка","footer-props":{itemsPerPageText:"Мастеров на странице",itemsPerPageAllText:"Все",showCurrentPage:!0,showFirstLastPage:!0,pageText:`${t.currentPage} из ${t.pageCount}`}},on:{pagination:t.setCurrentPage,pageCount:t.setPageCount},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[+t.writableClientId===+s.id&&t.selectedClient?e("tr",{on:{click:function(e){return t.goToClientDetail(s.id)}}},[t._l(["username","lastname"],(function(s){return e("td",{key:s,staticClass:"g-clients__td text-xs-right py-2"},[e(w.Z,{attrs:{filled:"",dense:"",color:"#FFC11C",light:"","hide-details":""},model:{value:t.selectedClient[s],callback:function(e){t.$set(t.selectedClient,s,e)},expression:"selectedClient[key]"}})],1)})),e("td",{staticClass:"g-clients__td text-xs-right py-2"},[e(w.Z,{staticClass:"data-tel-input",attrs:{value:t.selectedClient.phone,filled:"",dense:"",color:"#FFC11C",light:"","hide-details":""},on:{input:t.setPhone}})],1),e("td",{staticClass:"g-clients__td text-xs-right py-2"},[e(w.Z,{attrs:{filled:"",dense:"",color:"#FFC11C",light:"","hide-details":""},model:{value:t.selectedClient.animal,callback:function(e){t.$set(t.selectedClient,"animal",e)},expression:"selectedClient.animal"}})],1),e("td",{staticClass:"g-clients__td text-xs-right py-2"},[e("div",{staticClass:"d-flex align-center"},[e(P.Z,{staticClass:"lex-grow-1",attrs:{filled:"",color:"#FFC11C",light:"","hide-details":"",rows:"2"},model:{value:t.selectedClient.comment,callback:function(e){t.$set(t.selectedClient,"comment",e)},expression:"selectedClient.comment"}})],1)]),e("td",{staticClass:"py-2"},[e(E.Z,{staticClass:"mb-2",staticStyle:{width:"100%"},attrs:{elevation:"0","x-large":""},on:{click:t.cancelWritingClient}},[t._v(" Отменить ")]),e(E.Z,{staticClass:"d-block",staticStyle:{width:"100%"},attrs:{elevation:"0","x-large":"",color:"#FFC11C",tile:"",dark:""},on:{click:t.saveClient}},[t._v(" Сохранить ")])],1)],2):e("tr",{staticClass:"pointer",on:{click:function(e){return t.goToClientDetail(s.id)},contextmenu:function(e){return e.preventDefault(),t.writeClient(s.id)}}},[t._l(["username","lastname","phone","animal"],(function(r){return e("td",{key:r,staticClass:"text-xs-right py-2"},[e("span",[t._v(t._s(s[r]))])])})),e("td",{staticClass:"text-xs-right py-2"},[e("div",{staticClass:"flex-grow-1"},[t._v(" "+t._s(s.comment)+" ")])]),e("td",{staticClass:"text-center"},[e(Z.Z),e(U.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:r}){return[e(T.Z,{staticClass:"mr-5",attrs:{color:r?"#FFC11C":"gray"},on:{click:function(e){return t.writeClient(s.id)}}},[t._v(" mdi-pencil-outline ")])]}}],null,!0)}),e(U.Z,{scopedSlots:t._u([{key:"default",fn:function({hover:r}){return[e(T.Z,{attrs:{color:r?"red":"gray"},on:{click:function(e){return t.removeClient(s.id)}}},[t._v(" mdi-trash-can-outline ")])]}}],null,!0)}),e(Z.Z)],1)],2)]}}])}),e(S.Z,{attrs:{persistent:"","max-width":"290"},model:{value:t.removeDialog,callback:function(e){t.removeDialog=e},expression:"removeDialog"}},[e(_.Z,[e(y.EB,{staticClass:"text-h5"},[t._v(" Удалить клиента? ")]),e(y.ZB,[t._v(" После удаления данные будут недоступны ")]),e(y.h7,[e(Z.Z),e(E.Z,{attrs:{color:"#FFC11C",text:""},on:{click:t.cancelRemoveClient}},[t._v(" Отмена ")]),e(E.Z,{attrs:{color:"red darken-1",text:""},on:{click:t.confirmedRemoveClient}},[t._v(" Удалить ")])],1)],1)],1),e("GCreateClientModalForm",{attrs:{"is-avtive":t.isFormActive},on:{onModalClose:function(e){t.isFormActive=!1},onSubmitEvent:t.submitForm}})],1)},js=[];const Hs={id:-1,username:"",lastname:"",phone:"+7",comment:"",animal:""};var Ys={name:"GClients",components:{GCreateClientModalForm:pt},data:()=>({currentPage:0,pageCount:0,searchStr:"",search:"",removeDialog:!1,headers:[{text:"Имя",value:"username",width:300},{text:"Фамилия",value:"lastname",width:300},{text:"Телефон",value:"phone",width:230},{text:"Животное",value:"animal",width:300},{text:"Комментарий",value:"comment"},{text:"Действия",value:"actions",sortable:!1,align:"center",width:200}],clients:[],writableClientId:null,selectedClient:null,oldClients:null,oldClient:null,removedClientId:null,isFormActive:!1}),computed:{currentClients(){return this.clients.filter((t=>t.username.includes(this.searchStr)||t.lastname.includes(this.searchStr)||t.phone.includes(this.searchStr)))}},mounted(){this.getClients()},methods:{...(0,kt.nv)(["GET_ALL_CLIENTS","CREATE_CLIENT","UPDATE_CLIENT","REMOVE_CLIENT"]),async getClients(){const{data:t}=await this.GET_ALL_CLIENTS();this.clients=t},createClient(){this.cancelWritingClient(),this.oldClients=JSON.parse(JSON.stringify(this.clients)),this.clients=[{...Hs},...this.clients],this.writableClientId=-1,this.selectedClient=this.clients[0]},async submitForm(t){const{data:{allClients:e}}=await this.CREATE_CLIENT(t);this.clients=e},async saveClient(){if(!this.selectedClient?.username)return;const t=this.selectedClient;if(-1===t.id){const e={username:t.username?.trim(),lastname:t.lastname?.trim()||"",phone:t.phone?.trim()||"",comment:t.comment?.trim()||"",animal:t.animal?.trim()||""},{data:{allClients:s}}=await this.CREATE_CLIENT(e);this.clients=s,this.selectedClient=null,this.writableClientId=null,this.oldClients=null}else{const e={};if(this.oldClient.username!==t.username&&(e.username=t.username.trim()),this.oldClient.lastname!==t.lastname&&(e.lastname=t.lastname.trim()),this.oldClient.phone!==t.phone&&(e.phone=t.phone.trim()),this.oldClient.animal!==t.animal&&(e.animal=t.animal.trim()),this.oldClient.comment!==t.comment&&(e.comment=t.comment.trim()),!Object.keys(e).length)return this.cancelWritingClient();const{data:{allClients:s}}=await this.UPDATE_CLIENT({id:t.id,data:e});this.clients=s,this.selectedClient=null,this.writableClientId=null,this.oldClients=null}},setPageCount(t){this.pageCount=t},setCurrentPage({page:t}){this.currentPage=t},writeClient(t){this.cancelWritingClient(),this.writableClientId=t,this.selectedClient=this.clients.find((e=>+e.id===+t)),this.oldClient={...this.selectedClient}},cancelWritingClient(){this.oldClients&&(this.clients=[...this.oldClients],this.oldClients=null),this.oldClient&&(this.clients=[...this.clients].map((t=>t.id===this.writableClientId?{...this.oldClient}:t)),this.oldClient=null),this.selectedClient=null,this.writableClientId=null},removeClient(t){this.removedClientId=t,this.removeDialog=!0},cancelRemoveClient(){this.removedClientId=null,this.removeDialog=!1},async confirmedRemoveClient(){if(this.removedClientId){const{data:{allClients:t}}=await this.REMOVE_CLIENT(this.removedClientId);this.clients=t}this.removedClientId=null,this.removeDialog=!1},setPhone(t){this.selectedClient.phone=lt(t)},goToClientDetail(t){console.log("goToClientDetail",t)}}},Ks=Ys,Js=(0,h.Z)(Ks,Bs,js,!1,null,null,null),zs=Js.exports,Qs=function(){var t=this;t._self._c;return t._m(0)},Xs=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-feedbacks"},[e("h1",[t._v("Отзывы")])])}],tr={name:"GFeedbacks"},er=tr,sr=(0,h.Z)(er,Qs,Xs,!1,null,null,null),rr=sr.exports,nr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-groomers d-flex flex-column flex-grow-1"},[e("h1",{staticClass:"mb-4"},[t._v("Грумеры")]),e(O.Z,{staticClass:"mb-5"}),e(D.Z,{staticClass:"flex-grow-0 my-0 mb-5"},[e(x.Z,{staticClass:"py-0 d-flex align-end",attrs:{cols:"3"}},[e(w.Z,{attrs:{"prepend-inner-icon":"mdi-magnify",label:"Поиск заказа","single-line":"","hide-details":"",color:"#FFC11C",filled:"",dense:""},model:{value:t.searchStr,callback:function(e){t.searchStr=e},expression:"searchStr"}})],1),e(x.Z,{staticClass:"d-flex py-0"},[e(Z.Z),e(E.Z,{attrs:{"x-large":"",color:"#FFC11C",tile:"",dark:"",elevation:"0"},on:{click:function(e){t.isFormActive=!0}}},[e(T.Z,[t._v("mdi-plus")]),t._v(" Создать нового грумера ")],1)],1)],1),e(gt.Z,{staticClass:"flex-grow-1",attrs:{"items-per-page":10,headers:t.headers,items:t.currentGroomersList,search:t.search,"no-data-text":"Ничего найти не получилось","no-results-text":"Ничего найти не получилось","loading-text":"Загрузка","footer-props":{itemsPerPageText:"Мастеров на странице",itemsPerPageAllText:"Все",showCurrentPage:!0,showFirstLastPage:!0,pageText:`${t.currentPage} из ${t.pageCount}`}},on:{pagination:t.setCurrentPage},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e("tr",{staticClass:"pointer",on:{click:function(e){return t.gotoDetail(s)}}},[e("td",{staticClass:"py-2"},[e(l.Z,{staticStyle:{"border-radius":"50%"},attrs:{src:s.image,width:"32",height:"32"}})],1),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.name)+" ")]),e("td",{staticClass:"text-xs-right py-2"},[t._v(t._s(s.phone))]),e("td",{staticClass:"text-xs-right py-2"},[t._v(" "+t._s(s.experience)+" ")])])]}}])}),e("GCreateGroomerModalForm",{attrs:{"is-avtive":t.isFormActive},on:{onModalClose:function(e){t.isFormActive=!1},onSubmit:t.createNewGroomer}})],1)},ar=[];const ir="/crm",or="/mediafiles";var lr={name:"GGroomers",components:{GCreateGroomerModalForm:Ht},data:()=>({currentPage:0,pageCount:0,searchStr:"",search:"",headers:[{text:"Фото",align:"start",sortable:!1,value:"image"},{text:"Имя Фамилия",value:"name"},{text:"Телефон",value:"phone"},{text:"Стаж",value:"experience"}],isFormActive:!1}),computed:{...(0,kt.Se)(["GROOMERS"]),currentGroomersList(){return this.GROOMERS.filter((t=>t.username.includes(this.searchStr)||t.lastname.includes(this.searchStr)||t.phone.includes(this.searchStr))).map((({id:t,username:e,lastname:s,avatar:r,createDate:n,phone:a})=>({id:t,name:`${e} ${s}`,image:`${ir+or}/${r}`,phone:a,experience:yt(n)})))}},mounted(){},methods:{...(0,kt.nv)(["GET_ALL_GROOMERS","CREATE_MASTER"]),setCurrentPage({page:t,pageCount:e}){this.currentPage=t,this.pageCount=e},async createNewGroomer(t){const{data:e}=await this.CREATE_MASTER(t)},gotoDetail({id:t}){this.$router.push({name:"g-groomerdetail",params:{id:t}})}}},cr=lr,dr=(0,h.Z)(cr,nr,ar,!1,null,null,null),ur=dr.exports,mr=s(9286),hr=s(3305),vr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-groomer-detail d-flex flex-column flex-grow-1"},[t.isLoading?e("div",{staticClass:"d-flex align-center flex-grow-1 justify-center"},[e(hr.Z,{attrs:{size:60,width:5,color:"amber",indeterminate:""}})],1):e("div",{staticClass:"flex-grow-1 d-flex flex-column"},[e(mr.Z,{attrs:{items:t.breadcrumbs},scopedSlots:t._u([{key:"divider",fn:function(){return[e(T.Z,[t._v("mdi-chevron-right")])]},proxy:!0}])}),e("h1",{staticClass:"mb-6"},[t._v(t._s(t.master.username)+" "+t._s(t.master.lastname))]),t.master?e(D.Z,{staticClass:"user-card flex-grow-0"},[e(x.Z,{staticClass:"flex-grow-0",attrs:{cols:"1"}},[e(l.Z,{staticClass:"pointer",attrs:{src:t.imageURl,width:"126",height:"126"},on:{click:t.loadImage}}),e("input",{ref:"avatar",attrs:{type:"file",name:"images",multiple:"",accept:".jpg,.png",hidden:""},on:{change:t.onUploadImages,click:t.onInputClick}})],1),e(x.Z,{staticClass:"flex-grow-1"},[e(D.Z,[e(x.Z,{staticClass:"pb-0",attrs:{cols:"5"}},[e(wt.Z,{attrs:{value:t.master.post,items:t.postsList,label:"Должность",color:"#FFC11C","item-color":"warning"},on:{input:e=>t.master.post=e}})],1),e(x.Z,{staticClass:"pb-0",attrs:{cols:"2"}},[e(w.Z,{staticClass:"text-h5",attrs:{value:t.getExperience(t.master.createDate),label:"Стаж",color:"#FFC11C",light:"",readonly:""}})],1),e(x.Z,{staticClass:"pb-0",attrs:{cols:"1"}},[e(w.Z,{staticClass:"text-h5",attrs:{value:t.master.rate+"%",label:"Ставка",color:"#FFC11C",light:""},on:{input:t.setRate}})],1),t.master?e(x.Z,{staticClass:"py-0 d-flex align-center"},[e("GColorSelector",{attrs:{data:t.colors},model:{value:t.master.color,callback:function(e){t.$set(t.master,"color",e)},expression:"master.color"}})],1):t._e()],1),e(D.Z,[e(x.Z,{attrs:{cols:"2"}},[e(w.Z,{staticClass:"text-h5",attrs:{value:t.master.phone,label:"Телефон",color:"#FFC11C",light:""},on:{input:t.setPhone}})],1),e(x.Z,{attrs:{cols:"2"}},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Образование",color:"#FFC11C",light:""},model:{value:t.master.education,callback:function(e){t.$set(t.master,"education",e)},expression:"master.education"}})],1),e(x.Z,{attrs:{cols:"4"}},[e(w.Z,{staticClass:"text-h5",attrs:{label:"Дополнительно",color:"#FFC11C",light:""},model:{value:t.master.comment,callback:function(e){t.$set(t.master,"comment",e)},expression:"master.comment"}})],1),e(x.Z,[t.isChanged?e("div",{staticClass:"d-flex"},[e(E.Z,{staticClass:"mr-4",attrs:{outlined:"",tile:""},on:{click:t.cancelUpdates}},[t._v(" Отменить ")]),e(E.Z,{attrs:{tile:"",elevation:"0",color:"#FFC11C",dark:""},on:{click:t.successUpdates}},[t._v(" Сoхранить изменения ")])],1):t._e()])],1)],1)],1):t._e(),e(ws.Z,{staticClass:"flex-grow-0",attrs:{color:"grey darken-1"}},[e(Zs.Z,{on:{click:function(e){t.tableType="services"}}},[t._v("Услуги")]),e(Zs.Z,{on:{click:function(e){t.tableType="orders"}}},[t._v("Заказы")])],1),"services"===t.tableType&&t.orders?e("GGroomerServicesTable",{staticClass:"flex-grow-1",attrs:{orders:t.orders}}):t._e(),"orders"===t.tableType&&t.orders?e("GGroomerOrdersTable",{staticClass:"flex-grow-1",attrs:{orders:t.orders},on:{onLineClick:t.showOrderModal}}):t._e()],1)])},pr=[];const Cr="/crm",gr="/mediafiles";var fr={name:"GGroomerDetail",components:{GColorSelector:Gt,GGroomerServicesTable:Xt,GGroomerOrdersTable:ae},data:()=>({tableType:"services",isLoading:!0,master:null,orders:null,avatar:"",posts:Nt,postsList:Vt,oldMaster:{},colors:Ut}),computed:{breadcrumbs(){if(!this.master)return[];const{username:t,lastname:e}=this.master;return[{text:"Груммеры",disabled:!1,href:"/groomers"},{text:`${t} ${e}`,disabled:!0}]},isChanged(){return!Object.keys(this.oldMaster).every((t=>this.oldMaster[t]===this.master[t]))},imageURl(){if(!this.master)return"";const{avatar:t}=this.master;return`${Cr+gr}/${t}`}},mounted(){this.getData()},methods:{...(0,kt.nv)(["GET_MASTER_BY_ID","UPDATE_MASTER"]),...(0,kt.OI)(["SHOW_ORDER_DETAIL_SHIELD"]),getExperience:yt,async getData(){const t=this.$route.params.id,{data:{master:e,allOrders:s}}=await this.GET_MASTER_BY_ID(t);this.master=JSON.parse(JSON.stringify(e)),this.oldMaster=e,this.orders=s,this.isLoading=!1},loadImage(){this.$refs.avatar.click()},async onUploadImages({target:t}){await es.master.uploadAvatar(this.$route.params.id,t.files[0]),this.getData()},onInputClick(t){console.log("onInputClick",t)},cancelUpdates(){this.master=JSON.parse(JSON.stringify(this.oldMaster))},async successUpdates(){const t=this.$route.params.id,e={};Object.keys(this.oldMaster).forEach((t=>{this.oldMaster[t]!==this.master[t]&&(e[t]=this.master[t])})),console.log("formData",e);const{data:s}=await this.UPDATE_MASTER({id:t,formData:e});this.master=JSON.parse(JSON.stringify(s)),this.oldMaster=s},setRate(t){const e=t.replace(/\D/g,"");this.master.rate===+e&&(this.master.rate=t),setTimeout((()=>this.master.rate=+e),0)},setPhone(t){const e=lt(t);this.master.phone===e&&(this.master.phone=t),setTimeout((()=>this.master.phone=e),0)},showOrderModal(t){console.log("showOrderModal",t),this.SHOW_ORDER_DETAIL_SHIELD(t)}}},Er=fr,_r=(0,h.Z)(Er,vr,pr,!1,null,null,null),yr=_r.exports;r.ZP.use(ms.Z);const xr=[{path:"/",name:"g-calendar",meta:{title:"Календарь",requiresAuth:!0,layout:"main"},component:Ds},{path:"/stock",name:"g-stock",meta:{title:"Склад",requiresAuth:!0,layout:"main"},component:Ms},{path:"/orders",name:"g-orders",meta:{title:"Заказы",requiresAuth:!0,layout:"main"},component:qs},{path:"/clients",name:"g-clients",meta:{title:"Клиенты",requiresAuth:!0,layout:"main"},component:zs},{path:"/feedbacks",name:"g-feedbacks",meta:{title:"Отзывы",requiresAuth:!0,layout:"main"},component:rr},{path:"/groomers",name:"g-groomers",meta:{title:"Грумеры",requiresAuth:!0,layout:"main"},component:ur},{path:"/groomer-detail/:id",name:"g-groomerdetail",meta:{title:"Персональная страница мастера",requiresAuth:!0,layout:"main"},component:yr},{path:"/login",name:"g-login",meta:{title:"Авторизация",requiresAuth:!1,layout:"empty"},component:Es}],kr=new ms.Z({mode:"history",base:"/crm-staticfiles/",routes:xr});kr.beforeEach((async(t,e,s)=>{const r=await cs.dispatch("CHECK_USER"),{path:n}=e,{matched:a,meta:i,path:o}=t,l=a.some((t=>t.meta.requiresAuth));!l||r?r&&"/login"===o?kr.push("/"):(document.title=i?.title||"Админ панель Groomleta",s()):"/login"!==n&&kr.push("/login")}));var Sr=kr,Or=s(1858);r.ZP.use(Or.Z);var Tr=new Or.Z({icons:{values:{}}}),br=s(6123),Dr=s.n(br);r.ZP.config.productionTip=!1,r.ZP.use(Dr(),{expire:"7d"}),new r.ZP({router:Sr,store:cs,vuetify:Tr,render:t=>t(Ae)}).$mount("#app")},9574:function(t,e,s){t.exports=s.p+"img/logo.e4c3c67a.svg"},5053:function(t,e,s){t.exports=s.p+"img/logout.8b4b2fb4.svg"},2191:function(t){t.exports="data:image/png;base64,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"}},e={};function s(r){var n=e[r];if(void 0!==n)return n.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,r,n,a){if(!r){var i=1/0;for(d=0;d<t.length;d++){r=t[d][0],n=t[d][1],a=t[d][2];for(var o=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(s.O).every((function(t){return s.O[t](r[l])}))?r.splice(l--,1):(o=!1,a<i&&(i=a));if(o){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[r,n,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/crm-staticfiles/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,a,i=r[0],o=r[1],l=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(l)var d=l(s)}for(e&&e(r);c<i.length;c++)a=i[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(d)},r=self["webpackChunkgroomleta_admin"]=self["webpackChunkgroomleta_admin"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(3476)}));r=s.O(r)})();
//# sourceMappingURL=app.e82db855.js.map